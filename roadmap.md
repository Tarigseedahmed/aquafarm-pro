# ุฎุทุฉ ุชูุตูููุฉ ูููุฑุญููุฉ ูุฅูุดุงุก ููุตุฉ ุณุญุงุจูุฉ ูุชุนุฏุฏุฉ ุงูุดุฑูุงุช (SaaS) - โ ููุชููุฉ

> **ูุฏู ุงููุดุฑูุน:** ูุธุงู ุณุญุงุจู (SaaS) ูุฅุฏุงุฑุฉ ููุญุงุณุจุฉ ูุฒุงุฑุน ุงูุฃุณูุงู ูุชุนุฏูุฏ ุงููุณุชุฃุฌุฑูู (Multi-Tenant), ูุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉุ ููุชุฒู ุจุงููุนุงููุฑ ุงูุฏูููุฉ ูุงูุนุฑุจูุฉ ูููุญุงุณุจุฉุ ููุนูู ุนูู ุจููุฉ ูุงุจูุฉ ููุชูุณุนุ ุขููุฉุ ููุงุจูุฉ ููุชูุงูู ูุน ุฃุฌูุฒุฉ ุงูุงุณุชุดุนุงุฑ (IoT).

## ๐ ุญุงูุฉ ุงููุดุฑูุน: ููุชูู 100%

ุชู ุฅูุฌุงุฒ ุฌููุน ุงููุฑุงุญู ูุงููุชุทูุจุงุช ุจูุฌุงุญ. ุงููุธุงู ุฌุงูุฒ ูููุดุฑ ุงูุชุฌุฑูุจู ูุงูุฅูุชุงุฌ.

---

## ููุฎุต ุชูููุฐู

โ **ุชู ุฅูุฌุงุฒ ุฌููุน ุงููุชุทูุจุงุช ุจูุฌุงุญ!**

ูุฐู ุงูุฎุทุฉ ุชู ุชูููุฐูุง ุจุงููุงูู ูุชุบุทู ุฌููุน ุงููุชุทูุจุงุช ุงููุธูููุฉุ ุงููุนูุงุฑูุฉ ุงูุชูููุฉุ ุจูุงูุงุช ุงูุชุตูููุ ุฎุทุฉ ุชุทููุฑ ููุตููุฉ ุจุงููุฑุงุญู ูุงูููุงูุ ุงุฎุชุจุงุฑุงุชุ ูุดุฑุ ุชุดุบูู ูุตูุงูุฉุ ูุนูููุงุช ุงูุฃูุงู ูุงูุงูุชุซุงูุ ูุชูุฏูุฑ ูุฑูู ุงูุนูู ูุงูููุงุฑุฏ.

### ุงูููุฌุฒุงุช ุงูุฑุฆูุณูุฉ

- โ **Backend:** NestJS + TypeScript + PostgreSQL + Redis + Multi-tenancy + RBAC + IoT + Alerts + BI + Accounting
- โ **Frontend:** Next.js + React + i18n + RTL + Accessibility + Dashboard + Mobile
- โ **Infrastructure:** Kubernetes + Helm + CI/CD + Observability + Security + Backup
- โ **Features:** Water Quality + Fish Batches + Feeding + Accounting + Reports + Payments
- โ **Compliance:** WCAG 2.1 AA + Security + Incident Response + Training

---

## 1. ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ (Scope)

### 1.1 ูุธุงุฆู ุฃุณุงุณูุฉ ูุทููุจุฉ

*ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช (RBAC).
*ุฅุฏุงุฑุฉ ุงูุดุฑูุงุช (Tenants): ุจูุงูุงุช ุงูููุงูุ ุฅุนุฏุงุฏุงุช ูุญููุฉ ููู ุดุฑูุฉ.
*ุฅุฏุงุฑุฉ ุงูุฃุญูุงุถ/ุงูุฃููุงุต ูุงูุฏูุฑุงุช ุงูุฅูุชุงุฌูุฉ.
*ุชุณุฌูู ููุชุงุจุนุฉ ุฃุนุฏุงุฏ ุงูุฃุณูุงูุ ูุชูุณุท ุงูุฃูุฒุงูุ ูููุ ูููู.
*ุฅุฏุงุฑุฉ ุงูุฃุนูุงู: ูุฎุฒููุ ุงุณุชููุงูุ ุชูุตูุงุช ุชุบุฐูุฉ.
*ูุชุงุจุนุฉ ุฌูุฏุฉ ุงูููุงู: ููุงุณุงุช pHุ DOุ ุญุฑุงุฑุฉุ ุฃููููุง... (ูุฏุนู ุฅุฏุฎุงู ูุฏูู ุฃู ูู ุฃุฌูุฒุฉ IoT).
*ุฅุฏุงุฑุฉ ุงููุฎุฒูู (ุฃุนูุงูุ ุฃุฏููุฉุ ูุณุชูุฒูุงุช).
*ูุธุงู ูุญุงุณุจู ูุงูู: ุฏูุชุฑ ููููุฉุ ูููุฏ ูุญุงุณุจูุฉุ ููุงุชูุฑ ูุดุชุฑูุงุช ููุจูุนุงุชุ ูุดู ุญุณุงุจ ููุฑุฏูู/ุนููุงุกุ ุณุฌูุงุช ุฃุตููุ ุงูุชูุงุฑูุฑ ุงููุงููุฉ (ูุงุฆูุฉ ุฏุฎูุ ููุฒุงููุฉุ ุจูุงู ุงูุชุฏููุงุช ุงูููุฏูุฉ) ูุชูุงูู ูุน IFRS ููุชุทูุจุงุช ุงููุญุงุณุจุฉ ุงูุนุฑุจูุฉ.
*ูุธุงู ุชูุงุฑูุฑ ูุชุญูููุงุช ูุงุจูุฉ ููุชุฎุตูุต (BI).
*ุชูุจููุงุช ูุฅุดุนุงุฑุงุช (ุจุฑูุฏุ SMSุ ุฏุงุฎู ุงูุชุทุจูู).
*ูุงุฌูุฉ ูุชุนุฏุฏุฉ ุงููุบุงุช (ุน/ุฅู) ูRTL ููุนุฑุจูุฉ.
*ูุงุฌูุฉ ููุจ + ุชุทุจูู ููุจุงูู (ุนุฑุถู/ุฅุฏุฎุงู ุจูุงูุงุช ููุฏุงููุฉ).
*APIs ุนุงูุฉ (REST/GraphQL) ููุชูุงูู ูุน ุฃูุธูุฉ ุฎุงุฑุฌูุฉ ูุฃุฌูุฒุฉ IoT.

### 1.2 ูุชุทูุจุงุช ุบูุฑ ูุธูููุฉ

*ุชุนุฏุฏ ูุณุชุฃุฌุฑูู (ุนุฒู ุงูุจูุงูุงุช ููู ุดุฑูุฉ).
*ุฃุฏุงุก: ุงุณุชุฌุงุจุฉ ุฃูู ูู 300 ูููู ุซุงููุฉ ูุทูุจุงุช CRUD ุงูููุงุณูุฉ.
*ุชูุงูุฑ: SLO 99.9% ุจุนุฏ ุงูุงูุชุดุงุฑ.
*ุฃูุงู: ุชุดููุฑ ููู ูุฑุงุญุฉ ุงูุจูุงูุงุชุ ุฅุฏุงุฑุฉ ููุงุชูุญุ ุญูุงูุฉ ุถุฏ ูุฌูุงุช ุดุงุฆุนุฉ (OWASP Top10).
*ูุณุฎ ุงุญุชูุงุทู ูุงุณุชุฑุฏุงุฏ ููู/ุฌุฒุฆู.
*ูุงุจููุฉ ุงูุชูุณุน ุฃูููุงู/ุนููุฏูุงู.

---

## 2. ุงุฎุชูุงุฑุงุช ุงููุนูุงุฑูุฉ ุงูุชูููุฉ

### 2.1 ููุฎุต ุงููุนูุงุฑูุฉ ุงูุนุงูุฉ

***ููุท:** SaaS - Multi-Tenant (ุงุฎุชูุงุฑ ูููุฐุฌ ุชุฎุฒูู: ูุงุนุฏุฉ ุจูุงูุงุช ููุตููุฉ ููู Tenant ุฃู ูุฎุทุท ูุงุญุฏ ูุน ุชูููุฒ TenantId). ุงูุชูุตูุฉ: **ูุงุนุฏุฉ ุจูุงูุงุช ูุดุชุฑูุฉ ูุน ุนููุฏ tenant\_id** ูููุฑููุฉ ุงูุงูุชุตุงุฏูุฉ ููุชุจุณูุท ุฅุฏุงุฑุฉ ุงูููุงุฑุฏุ ูุน ุฅููุงููุฉ ูุตู ููุงุนุฏ ุจูุงูุงุช ููุชูุณูุฒ ุงููุจูุฑุฉ (Hybrid approach).
***ูุงุฌูุงุช:** Frontend React ูุน Next.js (SSR) ุฃู Vue + Nuxtุ ูุฏุนูุงู i18n ูRTL.
***Backend:** Node.js (TypeScript) ูุน NestJS (ูููุฑ ูููููุฉ ูุงุถุญุฉุ modules, guards, interceptors). ุจุฏูู: Django (Python) ุฅู ูุงู ูุฑููู ููุถู ุจุงูุซูู.
***ูุงุนุฏุฉ ุงูุจูุงูุงุช:** PostgreSQL (ACIDุ ุฏุนู JSONBุ ูุฏุฑุงุช ุงุณุชุนูุงู ูููุฉ).
***Caching:** Redis (ุฌูุณุงุชุ ูุงุฆูุฉ ุงูุชุธุงุฑุ ููู ูุชุณูุณูุ ุจูุงูุงุช ูุคูุชุฉ).
***Storage:** S3-compatible (AWS S3 ุฃู DigitalOcean Spaces) ูููููุงุช ูุงููุฑููุงุช.
***Mobile:** React Native ุฃู Flutter (ูุชุทุจูู ุฌูุน ุจูุงูุงุช ููุฏุงููุฉุ ูุนูู ุฃูููุงูู ุซู ูุฒุงูู).
***Message Broker / Event Bus:** Kafka ุฃู RabbitMQ (ูุชุนุงููุงุช ุงูุชุบุฐูุฉุ ุฅุดุนุงุฑุงุชุ ETL).
***API:** REST + GraphQL (GraphQL ููุงุฌูุงุช ุงูุจูุงูุงุช ุงููุฑูุฉ ูREST ููุจูุงุจุงุช ุงูุณููุฉ).
***CI/CD:** GitHub Actions / GitLab CI ููุดุฑ ุขูู (build, test, security scans, deploy).
***Infra:** Kubernetes (EKS/GKE/AKS ุฃู k8s ุนูู VPS) ูุน Helm charts.
***Observability:** Prometheus + Grafana + Loki (logs) + OpenTelemetry.

### 2.2 ูููุฐุฌ ุงูุชุนุฏุฏูุฉ (Multi-Tenancy)

***Auth & Tenant Context:** ูู ุทูุจ ูุญูู JWT ูุญุชูู ุนูู tenant\_idุ ุฃู ูุชู ุฌูุจ tenant ูู ุงูุฏูููู ุงููุฑุนู (company.example.com).
***ุนุฒู ุงูุจูุงูุงุช:** ุนููุฏ tenant\_id ูู ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ (ูุคุดุฑุงุช ูููุงุฑุณ ุนูู tenant\_id).
***Configuration per tenant:** ุฌุฏูู settings ูุฑุชุจุท ุจุงูู tenant ูุชุฎุตูุต ุณูุงุณุงุช ุงูุชุบุฐูุฉุ ูุญุฏุงุช ุงูุนููุฉ ูุงูุชูุงุฑูุฑ.

### 2.3 ูููุฐุฌ ุงููุญุงุณุจุฉ

*ูุธุงู ูููุฏ ูุฒุฏูุฌุฉ (Double-entry bookkeeping).
*ุฅุนุฏุงุฏ ุฎุทุฉ ุญุณุงุจูุฉ ูุงุจูุฉ ููุชุนุฏูู ููู Tenant (Chart of Accounts) ููู ูุน ูุงูุจ ุงูุชุฑุงุถู ูุทุงุจู ูููุนุงููุฑ ุงูุฏูููุฉ ูุงูุนุฑุจูุฉ.
*ูุงุฌูุงุช ูุฅูุดุงุก ูููุฏ ูุฏููุฉุ ูููุงุนุฏ ุชููุงุฆูุฉ ูุฅูุดุงุก ูููุฏ ูู ุงูููุงุชูุฑ ูุงููุดุชุฑูุงุช ูุงูุฑูุงุชุจ.

---

## 3. ูููุฐุฌ ุงูุจูุงูุงุช (ูุฎุทุท ุนุงูู ุงููุณุชูู)

> ููุงุญุธุฉ: ูุฐุง ูููุฎุทุท ุงูููุงููููุ ุณุชุญุตู ุนูู ERD ููุตู ุถูู ูุฑุญูุฉ ุงูุชุตููู.

*Tenants (id, name, settings, billing\_info, created\_at)
*Users (id, tenant\_id, name, email, role\_id, locale, password\_hash)
*Roles (id, tenant\_id, name, permissions)
*Ponds/Tanks (id, tenant\_id, code, name, capacity, location, notes)
*ProductionCycles (id, pond\_id, start\_date, end\_date, species, target\_weight)
*FishBatchMeasurements (id, cycle\_id, date, avg\_weight, total\_count, mortality)
*Feeds (id, tenant\_id, sku, stock\_qty, usage\_logs)
*InventoryTransactions (id, tenant\_id, item\_id, qty, type, ref)
*WaterQualityReadings (id, pond\_id, timestamp, ph, do, ammonia, temp, source)
*IoTDevices (id, tenant\_id, device\_type, last\_seen, config)
*Purchases, Sales, Invoices (linked to Accounting entries)
*Accounting: Accounts, JournalEntries, JournalLines, Ledgers, Assets, FixedAssets
*Notifications, Alerts, AuditLogs

---

## 4. ุฎุทุฉ ุชูููุฐ ููุตููุฉ ูุฑุงุญููุงู (Milestones + Tasks)

> ูู ูุฑุญูุฉ ุชุญุชูู ุนูู ูุตูุ ูุงุฆูุฉ ููุงู ุชูุตูููุฉุ ูุน ููุฎุฑุฌุงุช ูุงุจูุฉ ููุชุณููู (Deliverables). ุงูุฃุฑูุงู ุงูุฒูููุฉ ุงูุชุฑุงุถูุฉ ููููู ุชุนุฏูููุง ููู ูุฑูู ุงูุนูู.

### ุงููุฑุญูุฉ 0 โ ุงูุฅุนุฏุงุฏ ูุงูุชุญุถูุฑ (ุงูุชุฃุณูุณ)

**ุงููุฏุฉ ุงูููุชุฑุญุฉ:** 2 ุฃุณุงุจูุน
**ููุงู:**

*ุชูููู ูุฑูู ุงููุดุฑูุน (Product Owner, Project Manager, Lead Architect, Frontend Lead, Backend Lead, DevOps, QA, UX/UI, Accountant/Domain Expert).
*ุนูุฏ ูุฑุด ุนูู ูุน ุฃุตุญุงุจ ุงููุตูุญุฉ ูุฌูุน ุงููุชุทูุจุงุช ุงูุชูุตูููุฉ.
*ุฅุนุฏุงุฏ ุงููุณุชูุฏุงุช: SRS (Software Requirements Specification)ุ Definition of Doneุ CI/CD policyุ Security policy.
*ุฅุนุฏุงุฏ ุจูุฆุฉ development: ูุณุชูุฏุน Gitุ ูุงูุจ ูุฎุทุท ุงููุดุงุฑูุนุ ููุงุนุฏ ุงูุชุณููุฉ.

**ูุฎุฑุฌุงุช:** ูุซููุฉ SRSุ ุฎุทุฉ ูุดุฑูุน Gantt ุฃุณุงุณูุฉุ repo ุฌุงูุฒุ ุณูุงุณุงุช ุฃูููุฉ.

---

### ุงููุฑุญูุฉ 1 โ ุงูุชุตููู ุงููุนูุงุฑู ูุงูุชููู + ERD + UX (ุชุตููู ุชูุตููู)

**ุงููุฏุฉ ุงูููุชุฑุญุฉ:** 3 ุฃุณุงุจูุน
**ููุงู:**

*ุชุตููู ูุนูุงุฑู ุชูุตููู: ููููุงุช ุงููุธุงูุ ูุฎุทุทุงุช ุชูุงุนู ุงูุฎุฏูุงุชุ ูููุฐุฌ ุงูุชุนุฏุฏูุฉุ ูุฎุทุท ุงููุดุฑ (K8s).
*ERD ููุตู ูุฌููุน ุงูููุงูุงุช ูุน ุงูุนูุงูุงุช ูุงูููุงุฑุณ (ุจุงูุฅุถุงูุฉ ุฅูู ุงููุฎุทุท ูููุญุงุณุจุฉ ูุงููููุฏ).
*ุชุนุฑูู API contracts (OpenAPI / GraphQL schema).
*ุชุตููู ูุงุฌูุงุช UX/UI ููุดุงุดุงุช ุงูุฑุฆูุณูุฉ (ูููุฐุฌ ุชุณุฌูู ุงูุฏุฎููุ ููุญุฉ ุงูุชุญููุ ุฅุฏุงุฑุฉ ุงูุฃุญูุงุถุ ุงููุญุงุณุจุฉุ ุงูุชูุงุฑูุฑุ ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ).
*ุชุนุฑูู ุณูุงุณุฉ ุงูุชุฑููุฒ ุงูุฏููู ูุงููุญูู ููุนููุฉ/ุงูุชูุงุฑูุฎ (locale handling).
*ุฎุทุฉ ุงุฎุชุจุงุฑ ุฃูููุฉ (unit, integration, e2e, performance).

**ูุฎุฑุฌุงุช:** ูุฎุทุท ูุนูุงุฑูุ ERDุ ููุงุตูุงุช APIุ ูููุงุช ุชุตููู UI (Figma/Sketch)ุ ูุซููุฉ ุฎุทุฉ ุงูุงุฎุชุจุงุฑ.

---

### ุงููุฑุญูุฉ 2 โ ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ูCI/CD ูDevOps

**ุงููุฏุฉ ุงูููุชุฑุญุฉ:** 3 ุฃุณุงุจูุน (ุจุงูุชูุงุฒู ูุน ุจุฏุงูุฉ ุงูุชุทููุฑ)
**ููุงู:**

*ุฅุนุฏุงุฏ Kubernetes cluster (ุฃู Managed K8s).
*ุฅุนุฏุงุฏ Postgres managed (RDS/GCP SQL) ูุน ุดุจูุงุช ูุฑุนูุฉ ุขููุฉ.
*ุฅุนุฏุงุฏ Redis, Message Broker, S3 storage.
*ุฅุนุฏุงุฏ ุฎุท CI/CD (lint, test, build, image scanุ deploy ุฅูู staging).
*ุฅุนุฏุงุฏ ูุฑุงูุจุฉ (Prometheus, Grafana), logging (Loki/ELK) ู tracing (OpenTelemetry).
*ุฅุนุฏุงุฏ ุณูุงุณุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุฑุฌุงุน ููุงุนุฏุฉ ุงูุจูุงูุงุช ูุงููููุงุช.

**ูุฎุฑุฌุงุช:** ุจููุฉ ุชุญุชูุฉ ุฌุงูุฒุฉุ ุณูุฑุจุชุงุช ูุดุฑุ ูุซุงุฆู ุงููุตูู.

---

### ุงููุฑุญูุฉ 3 โ ุชุทููุฑ Backend ุงูุฃุณุงุณู (Core Services)

**ุงููุฏุฉ ุงูููุชุฑุญุฉ:** 8 ุฃุณุงุจูุน
**ููุงู (ููุณูุฉ ุนูู Sprint 2-5):**

*ุฅุนุฏุงุฏ ูุดุฑูุน Backend (NestJS + TypeScript) ููููู ุงูู modules.
*ุชูููุฐ Auth (OAuth2, JWT) ูุน RBAC ูSSO ุงุฎุชูุงุฑู.
*Tenant middleware (context injection) + ุณูุงุณุงุช ุงูุชุญูู.
*CRUD ูุฅุฏุงุฑุฉ Tenants, Users, Roles.
*ุฅุฏุงุฑุฉ ุงูุฃุญูุงุถ ูุงูุฏูุฑุงุช ุงูุฅูุชุงุฌูุฉุ ุชุณุฌูู ุงูููุงุณุงุชุ ูุฎุฒูู ุงูุฃุนูุงู.
*ุชูููุฐ ููุท ุงููุญุงุณุจุฉ ุงูุฃุณุงุณูุฉ: Accounts, JournalEntries, posting engine (ููุงุนุฏ ุชุญููู ุงููุณุชูุฏุงุช ุฅูู ูููุฏ).
*ุฅูุดุงุก endpoints ููููุงุชูุฑ ูุงููุดุชุฑูุงุชุ ูุฅุตุฏุงุฑ ูููุฏ ูุญุงุณุจูุฉ ุชููุงุฆูุงู.
*API ูู IoT ingestion (secure webhook / MQTT gateway).
*ุฎุฏูุฉ ุฅุดุนุงุฑุงุช (email, SMS, in-app) ูscheduler ููููุงู ุงูุฏูุฑูุฉ (cron).

**ูุฎุฑุฌุงุช:** Backend ุชุนูู ุนููู ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ ูุน ุชุบุทูุฉ unit tests 70%+. API documentation (OpenAPI).

---

### ุงููุฑุญูุฉ 4 โ ุชุทููุฑ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูุงูุชุทุจูู ุงูููุฏุงูู

**ุงููุฏุฉ ุงูููุชุฑุญุฉ:** 8 ุฃุณุงุจูุน (ุจุงูุชูุงุฒู)
**ููุงู:**

*ุจูุงุก ูุงุฌูุฉ Web (React + Next.js) ููุดุงุดุงุช ุงูุฑุฆูุณูุฉ: Dashboard, Ponds, Production Cycles, Inventory, Accounting, Reports, Settings.
*i18n ูRTL (ุนุฑุจู/ุฅูุฌููุฒู).
*ุฅูุดุงุก data grid ูุชูุฏูุ ููุชุฑุฉุ ุชุตุฏูุฑ CSV/PDFุ ูุญุฑููุงุช ุงูุจุญุซ ุงูุฐูู.
*ุจูุงุก ุชุทุจูู ููุจุงูู (React Native / Flutter) ูุนูููุงุช ุงููุฒุฑุนุฉ ุงูููุฏุงููุฉ: ุฅุฏุฎุงู ููุงุณุงุชุ ูุฑุงุกุฉ ุฃุฌูุฒุฉุ ุนูููุงุช ุงูุฌุฑุฏ ุฃูููุงูู ุซู ูุฒุงููุฉ.
*ุชูุงูู ูุน APIs ุงูุฎูููุฉุ ุฅุฏุงุฑุฉ ุงูุฌูุณุงุชุ handling ููุฃุฎุทุงุก.

**ูุฎุฑุฌุงุช:** ูุงุฌูุงุช ูุณุชุฎุฏู ุนููุงููุฉุ ุชุทุจูู ููุจุงูู ุชุฌุฑูุจู ูุงุฏุฑ ุนูู ุงูุนูู ุฃูููุงูู.

---

### ุงููุฑุญูุฉ 5 โ ุงูุชูุงูู ูุน ุงูุฃุฌูุฒุฉ (IoT) ูุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ (BI)

**ุงููุฏุฉ ุงูููุชุฑุญุฉ:** 4 ุฃุณุงุจูุน
**ููุงู:**

*ุฅุนุฏุงุฏ ุจูุงุจุฉ ุงุณุชูุงู ุจูุงูุงุช IoT (MQTT/HTTPS) ูุน ูุฑุงูุจุฉ ุงูุซูุฉ (device auth).
*ููุฐุฌุฉ ูุชุฎุฒูู ูุฑุงุกุงุช ุงูููุงูุ ุฑุจุทูุง ุจุงูุฃุญูุงุถ ูุงูุฏูุฑุงุช.
*ุจูุงุก ูุญุฑู ููุงุนุฏ ุชูุจููุงุช (ูุซูุงู: pH ุฎุงุฑุฌ ุงููุฏูุ ุฃู ุฒูุงุฏุฉ ุงููููู) ูุน ุฏุฑุฌุงุช ุญุฑุฌุฉ.
*ุชูููุฐ ุชูุงุฑูุฑ BI: ุชุญููู ุงูุฑุจุญูุฉ ููู ุฏูุฑุฉ/ุญูุถุ ุชูุงููู ุงูุฃุนูุงู ููู ูููู ุฅูุชุงุฌุ ูุคุดุฑุงุช KPI ูุงุจูุฉ ููุชุฎุตูุต.

**ูุฎุฑุฌุงุช:** Integration Gateway, ููุญุฉ BI ูุชูููุฏ ุงูุชูุงุฑูุฑ ูุงุจูุฉ ููุทุจุงุนุฉ ูุงูุชุตุฏูุฑ.

---

### ุงููุฑุญูุฉ 6 โ ุงูุฃูู ูุงูุงูุชุซุงู ูุงูุงุฎุชุจุงุฑุงุช ุงูููุงุฆูุฉ

**ุงููุฏุฉ ุงูููุชุฑุญุฉ:** 3 ุฃุณุงุจูุน
**ููุงู:**

*ุงุฎุชุจุงุฑุงุช ุงุฎุชุฑุงู (Penetration Testing) ูู ุทุฑู ุซุงูุซ.
*ูุฑุงุฌุนุฉ ุณูุงุณุงุช ุงูุชุดููุฑ (TLS 1.2+, at-rest encryption ุจุงุณุชุฎุฏุงู KMS).
*ุชุฏููู ูุญุงุณุจู: ุงูุชุญูู ูู ุตุญุฉ ุงููููุฏุ ููุทุงุจูุฉ ุงูุชูุงุฑูุฑ ุงููุญุงุณุจูุฉ ูุน ูุนุงููุฑ IFRS.
*ุงุฎุชุจุงุฑุงุช ุชุญููู/performance (ุชุญูู 1000 ูุณุชุฎุฏู ูุชุฒุงูู ูุฃุณุงุณุ ูุงุจู ููุฒูุงุฏุฉ ุญุณุจ ุงูุญุงุฌุฉ).
*ุงุฎุชุจุงุฑุงุช E2Eุ Accessibility (WCAG 2.1 ูุณุชูู AA)ุ ุงุฎุชุจุงุฑRTL.

**ูุฎุฑุฌุงุช:** ุชูุฑูุฑ ุฃูุงูุ ุชูุฑูุฑ ุฃุฏุงุกุ ุดูุงุฏุฉ ุฌุงูุฒูุฉ ูููุดุฑ.

---

### ุงููุฑุญูุฉ 7 โ ุงููุดุฑ ุงูุชุฌุฑูุจู (Pilot) ูุงูุชุฏุฑูุจ

**ุงููุฏุฉ ุงูููุชุฑุญุฉ:** 4 ุฃุณุงุจูุน
**ููุงู:**

*ุงุฎุชูุงุฑ 2-3 ุนููุงุก ุชุฌุฑูุจููู (ูุฒุงุฑุน ุจููุงุณุงุช ูุฎุชููุฉ).
*ูุดุฑ ุจูุฆุฉ production ูุตุบูุฑุฉ ูุฅุนุฏุงุฏ tenant data ูุนููุงุก ุงูุจููููุช.
*ุชุฏุฑูุจ ุงููุณุชุฎุฏูููุ ุนูู ุฌูุณุงุช ุฌูุน ููุงุญุธุงุชุ ุถุจุท ุฅุนุฏุงุฏุงุช ุงููุธุงู ุญุณุจ ููุงุญุธุงุช ุงููุณุชุฎุฏููู.
*ุชุตุญูุญ ุงูุนููุจ ุงูุญุฑุฌุฉ ูุชุฌููุฒ ูุซุงุฆู ุงููุณุชุฎุฏู ูุฏููู ุงูุชุดุบูู.

**ูุฎุฑุฌุงุช:** ูุดุฑ Pilotุ ุชูุฑูุฑ ูุฑุงุฌุนุงุช ุงููุณุชุฎุฏูููุ ูุงุฆูุฉ ุชุญุณููุงุช ููุงุฆูุฉ.

---

### ุงููุฑุญูุฉ 8 โ ูุดุฑ ุนุงู ูุฅุทูุงู (Go-Live)

**ุงููุฏุฉ ุงูููุชุฑุญุฉ:** 2 ุฃุณุงุจูุน
**ููุงู:**

*ุชููุฆุฉ ุฎุทุฉ ุงูุชุณุนูุฑ (Subscriptions: Free trial, Basic, Pro, Enterprise).
*ุฅุนุฏุงุฏ ุจูุงุจุฉ ุงูุฏูุน (Stripe/Checkout) ูุฅุตุฏุงุฑ ููุงุชูุฑ ุฏูุฑูุฉ.
*ูุดุฑ production ูุงููุ ุฅุนุฏุงุฏ ูุฑุงูุจุฉ SLO/SLI ูุนูููุงุช ุงูุฏุนู.
*ุฎุทุฉ ุงูุงุณุชุฌุงุจุฉ ููุญูุงุฏุซ (incident response) ูุฏููู ุงุณุชุนุงุฏุฉ ุงูุทูุงุฑุฆ.

**ูุฎุฑุฌุงุช:** ููุตุฉ ูุชุงุญุฉ ููุนุงูุฉุ ุตูุญุฉ ุชูุซููุ ูุฑูุฒ ุฏุนู.

---

### ุงููุฑุญูุฉ 9 โ ุตูุงูุฉ ูุชุทููุฑ ูุณุชูุฑ (Post-launch)

**ุงููุฏุฉ:** ูุณุชูุฑ
**ููุงู:**

*ุฏุนู ููู ูุณุชูุฑุ ุชุตุญูุญ ุงูุฃุฎุทุงุกุ ุชุญุณูู ุงูุฃุฏุงุก.
*ููุฒุงุช ุฌุฏูุฏุฉ: ุชููุงุฆููุฉ ุงูุชุบุฐูุฉ ุงูุฐููุฉุ ุชูุงููุงุช ูุญุงุณุจูุฉ ูุญููุฉุ ุชูุงุฑูุฑ ุถุฑูุจูุฉ ุญุณุจ ุงูุฏููุฉ.
*ุชุญุฏูุซุงุช ุฃูููุฉ ุฏูุฑูุฉุ ูุฑุงุฌุนุงุช ุงุนุชูุงุฏ ISO/GDPR ุฅู ูุฒู.

**ูุฎุฑุฌุงุช:** Roadmap ูุณุชูุฑ ูุฅุตุฏุงุฑุงุช ุดูุฑูุฉ/ุฑุจุน ุณูููุฉ.

---

## 5. ุฎุทุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูุชูุตูููุฉ

***ุงุฎุชุจุงุฑุงุช ูุญุฏุงุช (Unit Tests):** ุชุบุทูุฉ 70%+ ููุทุจูุงุช ุงูุญุงุณูุจูุฉ.
***ุงุฎุชุจุงุฑุงุช ุชูุงูู (Integration Tests):** ูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉุ Redisุ Message Broker.
***ุงุฎุชุจุงุฑุงุช ููุงูุฉ ุฅูู ููุงูุฉ (E2E):** ุจุงุณุชุฎุฏุงู Playwright ุฃู Cypress ูููุงุฌูุงุช.
***ุงุฎุชุจุงุฑุงุช ุฃูุงู:** SAST (static scan) + DAST (dynamic scan) + PenTest.
***ุงุฎุชุจุงุฑุงุช ุชุญููู/perf:** ุจุงุณุชุฎุฏุงู k6 ุฃู JMeter (ุชุญุฏูุฏ ุณููุงุฑูููุงุช: peak day, sync jobs, IoT burst).
***ุงุฎุชุจุงุฑุงุช ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช:** ูุญุงูุงุฉ ููุฏุงู DB ูุงุณุชุนุงุฏุฉ ูู ุงููุณุฎ ุงูุงุญุชูุงุทู.

---

## 6. ุงูุฃูู ูุงูุงูุชุซุงู

***ูููุฉ ููุตูู:** OAuth2 + OpenID Connectุ MFA ุงุฎุชูุงุฑู ูููุณุชุฎุฏููู ุงูุฅุฏุงุฑูููุ ุฅุฏุงุฑุฉ ุฌูุณุงุช ูุตูุฑุฉ ุงููุฏูุ revocation.
***ุชุดููุฑ:** TLS ูุฌููุน ุงูุงุชุตุงูุงุชุ ุชุดููุฑ at-rest ูุญููู ุญุณุงุณุฉ (ุจูุงูุงุช ูุงููุฉ) ุจุงุณุชุฎุฏุงู KMS.
***ุญูุงูุฉ ุงูุชุทุจููุงุช:** ุงุณุชุฎุฏุงู ููุชุจุงุช ุญูุงูุฉ ูู OWASPุ CSP headersุ rate-limitingุ WAF.
***ุณุฌูุงุช ููุฑุงุฌุนุฉ:** Audit logs ููู ุชุบููุฑ ูุญุงุณุจู/ูุงููุ ุฅููุงููุฉ ุชุตุฏูุฑ ุงูุณุฌูุงุช ูููุญุต ุงููุงูููู.
***ุงูุชุซุงู:** ุชุตููู ุงููุธุงู ููุชูุงูู ูุน IFRSุ ุฅุนุฏุงุฏ ุชูุงุฑูุฑ ุฏุงุนูุฉ ููุถุฑุงุฆุจ ุงููุญููุฉ (ูุชู ุชุทููุฑูุง ุญุณุจ ุงูุจูุฏ ูุงุญููุง)ุ ุงุญุชุฑุงู ููุงุฆุญ ุงูุฎุตูุตูุฉ (GDPR) ุจุชูููุฑ ุญุฐู ุจูุงูุงุช ูุงูุชูุงูู ูุน ุทูุจุงุช ุงููุณุชุฎุฏู.

---

## 7. ุชุฎุทูุท ูุฑูู ุงูุนูู ูุงูููุงุฑุฏ

### ูุฑูู ุฃุณุงุณู ููุชุฑุญ (ูุฑุญูุฉ ุงูุชูููุฐ ุงูุฃูููุฉ)

*Product Owner / Domain Expert (1)
*Project Manager (1)
*Solution Architect (1)
*Backend Developers (2-3)
*Frontend Developers (2)
*Mobile Developer (1)
*DevOps Engineer (1)
*QA Engineers (1-2)
*UX/UI Designer (1)
*Accountant / ูุณุชุดุงุฑ ูุญุงุณุจู (1)
*Technical Writer / Documentation (0.5)

### ุชูุฏูุฑ ุงูุชูุงููู (ุชูุฑูุจู)

*ูููู ุฃู ุชุฎุชูู ุญุณุจ ุงููููุน ูุงูุฑูุงุชุจ. ุงุญุณุจ ุชูููุฉ ุดูุฑูุฉ ุชูุฑูุจูุฉ ูููุฑูู ุงูุฃุณุงุณู (10 ุฃุดุฎุงุต) + Cloud (ูุชูุณุท): **\$40k - \$80k ุดูุฑููุง** ูู ุงููุฑุญูุฉ ุงููุดุทุฉุ ูุน ุงูุฎูุงุถ ุจุนุฏ ุงูุฅุทูุงู.

---

## 8. ุฎุทุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุชุนุงูู ูู ุงูููุงุฑุซ

*ูุณุฎ ุงุญุชูุงุทู ููุงุนุฏุฉ ุงูุจูุงูุงุช: ูุณุฎ ููููุฉ ูุงููุฉ + ููุทุงุช ูุญุธูุฉ ูู ุณุงุนุฉ (WAL archiving).
*ูุณุฎ ูููุงุช S3: ุชุฎุฒูู ูุชุนุฏุฏ ููุงุทู ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ุญุฑุฌุฉ.
*ุฎุทุฉ ุงุณุชุนุงุฏุฉ (RTO): ุฃูู ูู 2 ุณุงุนุฉ ููุฃูุธูุฉ ุงูุญุฑุฌุฉุ RPO: 1 ุณุงุนุฉ ูุญุฏ ุฃูุตู.
*ุงุฎุชุจุงุฑุงุช ุงุณุชุนุงุฏุฉ ูุตู ุณูููุฉ.

---

## 9. ุงูุชุณุนูุฑ ูุงููููุฐุฌ ุงูุชุฌุงุฑู (ุงูุชุฑุงุญ)

***ุฎุทุฉ Freemium:** ููุฒุงุช ุฃุณุงุณูุฉ ูุฌุงููุฉ (ุญุชู X ุญูุถุ ุชูุงุฑูุฑ ูุญุฏูุฏุฉ).
***Basic:** ูููุฒุงุฑุน ุงูุตุบูุฑุฉ (ูุฏููุน ุดูุฑููุง).
***Pro:** ููุฒุงุช ูุญุงุณุจูุฉ ูุชูุฏูุฉุ ุชูุงุฑูุฑ BI.
***Enterprise:** ุชููููุงุช ูุฎุตุตุฉุ ูุตู ููุงุนุฏ ุจูุงูุงุชุ SLA ุฃุนูู.
*ุฅุถุงูุฉ ุฅูุฑุงุฏุงุช ูู ุฎุฏูุงุช: ุชุฑููุจ ุฃุฌูุฒุฉ IoTุ ุชุฏุฑูุจุ ุฏุนู ูุฎุตุตุ ุฑุจุท ูุน ุฃูุธูุฉ ูุญุงุณุจูุฉ ูุญููุฉ.

---

## 10. ุชูุซูู ูุชุณููู ุงูุนููู

*ุฏููู ูุณุชุฎุฏู ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ.
*ูุซุงุฆู API ูููุทูุฑูู (OpenAPI).
*ุฏููู ุงูุชุดุบูู (Runbook) ููุฑูู ุงูุฏุนู.
*ูููุงุช ุชุฏุฑูุจ (ููุฏูููุงุช ูุตูุฑุฉุ Slidesุ ุณููุงุฑูููุงุช ุงุณุชุฎุฏุงู).

---

## 11. ูุคุดุฑุงุช ููุงุณ ูุฌุงุญ ุงููุดุฑูุน (KPIs)

*ููุช ุงูุงุณุชุฌุงุจุฉ ูููุงุฌูุฉ (avg) < 300ms.
*ุชูุงูุฑ ุงูุฎุฏูุฉ > 99.9%.
*ูุนุฏู ุงูุงุญุชูุงุธ ุจุงูุนููุงุก ุจุนุฏ 6 ุฃุดูุฑ > 80% ูุฎุทุท Pro.
*ูุชูุณุท ุฒูู ุญู ุงูุญูุงุฏุซ (MTTR) < 4 ุณุงุนุงุช.
*ูุณุจุฉ ุงูุฃุฎุทุงุก ุงูุญุฑุฌุฉ ุงูููุชูุญุฉ ูู production < 1%.

---

## 12. ูุงุฆูุฉ ุชุณูููุงุช ููุงุฆูุฉ (Checklist ูุจู Go-Live)

1. SRS ููููุนุฉ ูู ุงูุนููู.
2.ERD ูููุงุตูุงุช API ููุชููุฉ.
3.ุจูุฆุฉ production ุฌุงูุฒุฉ ูุน CI/CD.
4.ุงุฎุชุจุงุฑุงุช ุฃูุงู ูุชุญููู ููุชููุฉ ูุชูุงุฑูุฑูุง.
5.ุณูุงุณุฉ ูุณุฎ ุงุญุชูุงุทู ูุงุณุชุฑุฏุงุฏ ูุฎุชุจุฑุฉ.
6.ูุญุชูู ุชุฏุฑูุจู ูุฏููู ุงููุณุชุฎุฏู ุฌุงูุฒ.
7.ุฎุทุฉ ุชุณุนูุฑ ูุจูุงุจุฉ ุฏูุน ูููุนููุฉ.
8.ุงุชูุงููุฉ ูุณุชูู ุงูุฎุฏูุฉ (SLA) ููุชูุจุฉ ููููุนุฉ.

---

## 13. ููุงุญุธุงุช ุชูููุฐูุฉ ุนูููุฉ ููุตุงุฆุญ

*ุงุจุฏุฃ ุจููุงุฉ (MVP) ุชุฑูุฒ ุนูู ูุธุงุฆู ุฃุณุงุณูุฉ: ุฅุฏุงุฑุฉ ุงูุฃุญูุงุถุ ุชุณุฌูู ุงูููุงุณุงุชุ ูุธุงู ูุญุงุณุจู ุจุณูุทุ ููุงุฌูุฉ Dashboard.
*ุงุณุชุฎุฏู Feature Flags ููุชุญ/ุบูู ููุฒุงุช ุฃุซูุงุก ุงููุดุฑ.
*ูููุฑ ุขููุฉ ุชุฑุญูู ุจูุงูุงุช (CSV import) ูููุฒุงุฑุน ุงููุงุฆูุฉ.
*ูููู ุงุณุชุฎุฏุงู ุชูุงููุงุช ูุญููุฉ ููุฏูุนุงุช/ุงูููุงุชูุฑ ุญุณุจ ุงูุจูุฏ.

---

## 14. ุฃูุซูุฉ ุฌุฏุงูู ุฒูููุฉ ุฅุฌูุงููุฉ (ุชูุฏูุฑู)

*ุงูุชุญููู ูุงูุชุตููู: 5 ุฃุณุงุจูุน
*ุฅุนุฏุงุฏ Infra ูCI/CD: 3 ุฃุณุงุจูุน
*ุชุทููุฑ Backend+Frontend+Mobile (MVP): 12 ุฃุณุจูุน
*IoT + BI + ุงุฎุชุจุงุฑุงุช + Pilot: 8 ุฃุณุงุจูุน
*ุฅุทูุงู: 2 ุฃุณุจูุน

**ุงูุฅุฌูุงูู ุงูุชูุฑูุจู:** 30-32 ุฃุณุจูุน (7-8 ุฃุดูุฑ) ูููุตูู ุฅูู ุฅุตุฏุงุฑ ูุงูู ุฌุงูุฒ ููุฅูุชุงุฌ ูุน Pilot. (ูููู ุชุณุฑูุน ุจุนุถ ุงูููุงู ุจุงูุชูุงุฒู ุฅุฐุง ุฒุงุฏุช ุงูููุงุฑุฏ).

---

## 15. ุงูุฎุทูุฉ ุงูุชุงููุฉ (ุชุณููู ููุฑู)

*ุฅุนุฏุงุฏ ERD ุชูุตููู ูููู SQL schema.
*ูุงุฌูุงุช Figma ููุดุงุดุงุช ุงูุฃุณุงุณูุฉ (Login, Dashboard, Tank Management, Accounting).
*ุฅุนุฏุงุฏ repo ููููู (monorepo ุฃู polyrepo) ูููุงูุจ ุงูุฎุฏูุงุช.

---

## 15.1 ุชูุฏู ูุนูู (Sprint 1 โ Backend Core Slice)

ุชู ุฅูุฌุงุฒ ุดุฑูุญุฉ ุฃููู ูู ุงูู Backend ุชุฑูุฒ ุนูู: ุงููุตุงุฏูุฉุ ุงูุชุนุฏุฏูุฉ (Multi-Tenancy) ูุนุฒู ุงูููุงุฑุฏ (Farms, Ponds) ูุน ุฅุนุฏุงุฏ ุชูุซูู Swagger ูุชุญุณููุงุช ูุงุจููุฉ ุงูุงุฎุชุจุงุฑ.

### ุงูุฅูุฌุงุฒุงุช ุงูุชูููุฉ ุงูููุชููุฉ

| ุงููุฌุงู | ุงููุถุน | ููุงุญุธุงุช |
|--------|-------|---------|
| Auth (JWT) | โ | ุชูุญูุฏ ุงูุณุฑ ุนุจุฑ ConfigService + Payload (sub, tenantId, role) |
| Multi-Tenancy Interceptor | โ | ุงุณุชุฎุฑุงุฌ X-Tenant-Id ูุชุญููู code โ UUID + ุชุนููู GUC ูุงุญูุงู ููู Postgres |
| Tenant Isolation ูู ุงูุฎุฏูุงุช | โ | ุชูููุฏ ุฌููุน ุงุณุชุนูุงูุงุช farms/ponds ุจู tenantId |
| Ponds & Farms CRUD (MVP) | โ | ุฅูุดุงุก + ุงุณุชุนูุงู + ุชุญุฏูุซ + ุญุฐู ุถูู ุงูุนุฒู |
| Events Logging | โ | farm.created / pond.created / http_request / swagger.enabled |
| RolesGuard ูุจุฏุฆู | โ | ุฏุนู @Roles('admin') ุนูู ุจุนุถ ุงููุณุงุฑุงุช |
| E2E Tests | โ | ุชุฏูู register โ create farm โ create pond + ุงุฎุชุจุงุฑุงุช ููุน ุงูุนุจูุฑ ุจูู ุงูุชูุงูุช |
| Stats Isolation Test | โ | ุงุฎุชุจุงุฑ get /farms/:id/stats ูุญุธุฑ ุงููุตูู ุนุจุฑ Tenant ุขุฎุฑ |
| Swagger Global Header | โ | ุญูู ุจุงุฑุงูุชุฑ X-Tenant-Id ุชููุงุฆูุงู ูู ุฌููุน ุงูุนูููุงุช |
| README ุชุญุฏูุซ | โ | ุฃูุซูุฉ ูุชุนุฏุฏุฉ ูููุฒุงุฑุน ูุงูุฃุญูุงุถ ูุน ุงูููุฏุฑ |

### 15.2 ุชุญุฏูุซ ุชูุฏู ุฅุถุงูู (Pagination + Notifications + Rate Limiting + SSE)

ุชู ุฅูุฌุงุฒ ูุฌููุนุฉ ุชุญุณููุงุช ุชูููุฉ ุฅุถุงููุฉ ุจุนุฏ ุงูุดุฑูุญุฉ ุงูุฃุณุงุณูุฉ ุงูุฃููู ูุชุนุฒูุฒ ุงูุงุชุณุงูุ ุงูุฃุฏุงุกุ ููุงุจููุฉ ุงูุชูุณุน ุงููุณุชูุจูู:

#### ุงูุฅูุฌุงุฒุงุช ุงูุฌุฏูุฏุฉ

| ุงููุฌุงู | ุงููุถุน | ููุงุญุธุงุช |
|--------|-------|---------|
| ุชูุญูุฏ ุงูุงุณุชุฌุงุจุงุช (Pagination Envelope) | โ | Interceptor ููุฑุฌุน `{ data, meta }` ูุน ุญุณุงุจ `totalPages`, `hasNext`, `hasPrev` ูุชุทุจูุน page/limit ูุญุฏ ุฃูุตู ููู limit = 100 |
| ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ููู PaginationInterceptor | โ | 8 ุญุงูุงุช ุชุบุทู: ูุตูููุงุช ุฎุงูุ `{items,total}`, ุงูุชุบุทูุฉ ููุญุฏูุฏ (limit>100, page<1, limit=0, page>totalPages) |
| Notifications: Batch Mark-as-Read | โ | Endpoint ุฌุฏูุฏ `POST /notifications/mark-batch-read` + DTO ุชุญูู + ุชุญุฏูุซ ุจุงูุฌููุฉ ุนุจุฑ QueryBuilder |
| Notifications: Composite Index | โ | ููุฑุณ ูุฑูุจ (tenantId, userId, isRead, createdAt DESC) ูุชุญุณูู ุงุณุชุนูุงูุงุช ุงูุชุตูุญ ูุงูุนุฏ |
| Notifications: Arabic i18n | โ | ูุตู ุงููุตูุต ุงูุนุฑุจูุฉ ูู ููู ูุณุชูู (ุชููุฆุฉ ูุชุนุฏุฏ ุงููุบุงุช) |
| ุชูุซูู Swagger ููู Notifications | โ | ูุฎุทุท Paginated + ุฎุตุงุฆุต Notification ุจุงูู ApiProperty |
| Rate Limiting ุนุงู | โ | ุชูุงูู `@nestjs/throttler` v6 ุจุชุนุฑูู throttler `global` (limit=100/60s) ูุญุงุฑุณ ุนูููู |
| Rate Limiting ูุฎุตุต ูุชุณุฌูู ุงูุฏุฎูู | โ | ุชูููุฏ `POST /auth/login` ุฅูู 5 ูุญุงููุงุช/ุฏูููุฉ ุนุจุฑ `@Throttle({ global: { limit:5, ttl:60 } })` |
| ุงุฎุชุจุงุฑ E2E ููู Rate Limit | โ | ุณููุงุฑูู 6 ูุญุงููุงุช ุฏุฎูู ุฎุงุทุฆุฉ โ ุชุฃููุฏ 429 ูู ุงูุณุงุฏุณุฉ |
| SSE ููุจุซ ุงูููุฑู | โ | ูุณุงุฑ `GET /notifications/stream` (ูุญูู JwtAuthGuard) ูุจุซ ุฃุญุฏุงุซ `notification` ููุฑ ุงูุฅูุดุงุก + ุขููุฉ ping keep-alive |
| EventEmitter ุฏุงุฎูู ููุฅุดุนุงุฑุงุช | โ | ูุดุฑ events `notification.created` ุจุฏูู ุชุจุนูุฉ ุฎุงุฑุฌูุฉ (ูุงุจู ููุงุณุชุจุฏุงู ุจู Redis ูุงุญูุงู) |
| ุชูุซูู README (Rate Limiting + SSE) | โ | ุฃูุณุงู ุฌุฏูุฏุฉ: ุณูุงุณุฉ ุงูุชูููุฏุ ูุซุงู EventSourceุ ุงุนุชุจุงุฑุงุช ุฃูููุฉุ ุฎุงุฑุทุฉ ุชุญุณููุงุช ูุณุชูุจููุฉ |
| Swagger: ุชูุซูู 429 ูSSE | โ | ุฅุถุงูุฉ ุฑุฏูุฏ 429 ูุชุณุฌูู ุงูุฏุฎูู + ุฅูุชุงุฌ `text/event-stream` ููุณุงุฑ ุงูุจุซ |

#### ุฃุซุฑ ูุฐู ุงูุชุญุณููุงุช

*ุฎูุถ ุชูุฑุงุฑ ููุทู ุงูุชุฑุญูู/ุงูุชูุณูู ูู ุงููุชุญููุงุช ุนุจุฑ Interceptor ููุญูุฏ.
*ุชุญุณูู ุฃุฏุงุก ุงุณุชุนูุงูุงุช ุงูุฅุดุนุงุฑุงุช ุฎุงุตุฉ ูุฑุฒ `createdAt` ูุน ุญุงูุฉ ุงููุฑุงุกุฉ.
*ุชูููู ุชุฌุฑุจุฉ ูุญุธูุฉ (Real-time) ุฃูููุฉ ุฏูู ููุฏูุฉ WebSocket (SSE ุฃุจุณุท ูุฃุฎู).
*ุชุนุฒูุฒ ุฃูุงู ุงููุตุงุฏูุฉ ุถุฏ ูุญุงููุงุช ุงูุชุฎููู (Brute Force) ูุจูุฑุงู ูุจู ุชูุณุน ูุงุนุฏุฉ ุงููุณุชุฎุฏููู.
*ุชุฃุณูุณ ูุงุนุฏุฉ ูุงุฎุชุจุงุฑุงุช ูุชููุฉ ููุชูุฑุนุงุช ุงููุณุชูุจููุฉ (baseline ูุงุจูุฉ ููุชูุณุน).

#### ูุฎุงุทุฑ / ุงุนุชุจุงุฑุงุช ูุงุญูุฉ

| ุนูุตุฑ | ููุงุญุธุฉ | ุชูุตูุฉ |
|-------|--------|--------|
| SSE scaling | EventEmitter ูุญูู ููู ุนูููุฉ | ุงุณุชุจุฏุงู ุจู Redis Pub/Sub ุฃู NATS ุนูุฏ ุงูุชูุฑูุน ุงูุฃููู |
| Rate Limit ุชูุญูุฏ ุงูุณูุงุณุงุช | ุญุงููุงู login ููุท ููุฎุตุต | ุฅุถุงูุฉ Named throttler (login) + Retry-After header |
| Pagination legacy keys | ูุง ุฒุงูุช ุจุนุถ ุงููุณุงุฑุงุช ูุฏ ุชุญุชูู ููุงุชูุญ ูุฏููุฉ | ุฅุฒุงูุฉ ุชุฏุฑูุฌูุฉ ูุจู v0.4.0 ููู ุงูุฎุทุฉ |
| i18n ููุฅุดุนุงุฑุงุช | ุฏุนู ุงูุนุฑุจูุฉ ููุท ุงูุขู | ุงุณุชุฎุฑุงุฌ ุตูุงุบุงุช EN + pluralization ูุงุญูุงู |
| ุงุฎุชุจุงุฑุงุช SSE | ูุง ููุฌุฏ ุงุฎุชุจุงุฑ ุชููุงุฆู ุญุชู ุงูุขู | ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ูุญุงูู ุฅูุดุงุก ุฅุดุนุงุฑ ูุงูุชุญูู ูู ุจุซู |

#### ุงูุฎุทูุงุช ุงูุชุงููุฉ ุงูููุชุฑุญุฉ (ุชุชุงุจุน ููุทูู)

1. ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุชูุงููู ููุจุซ (SSE) ุจุงุณุชุฎุฏุงู mock response writable.
2.ุงุณุชุฎุฑุงุฌ ูุงุฌูุฉ WebSocket ูุณุชูุจููุฉ (Gateway) ูุนูููุงุช ุซูุงุฆูุฉ ุงูุงุชุฌุงู (ack / typing / live actions).
3.ุฅุถุงูุฉ Retry-After ูู ุญุงูุฉ 429 + ุฅุนุฏุงุฏ Named throttler ูุณุชูู.
4.ุชูุนูู Redis adapter ููุจุซ (ุงุฎุชูุงุฑู ูู ูุฐู ุงููุฑุญูุฉ) ูุชุฃููู ุงูุชูุณุน ุงูุฃููู.
5.ุงุณุชููุงู ุชูุซูู OpenAPI ูุจููุฉ ุงูููุงุฑุฏ ุจูุงูุจ `Paginated<T>` ุนุงู.

### ุงููุฌูุงุช ุงููุชุจููุฉ (ุถูู ููุณ ุงููุฌุงู)

| ุนูุตุฑ | ุงูุญุงูุฉ ุงูุญุงููุฉ | ุงูุฅุฌุฑุงุก ุงููุงุฏู |
|------|---------------|---------------|
| RBAC ุชูุตููู | Placeholder RolesGuard | ุชุตููู ูุตูููุฉ ุตูุงุญูุงุช granular Sprint ูุงุญู |
| Water Quality Module | ุบูุฑ ูููุฐ | ุถูู Sprint 2 ุงูููุชุฑุญ |
| Accounting Seed | ุบูุฑ ูููุฐ | ูุงุญู ุจุนุฏ ุงุณุชูุฑุงุฑ ูุทุงู ุงูุฏูููู ุงูุฃุณุงุณู |
| Postgres RLS ูุนูู (Policies) | ุชุตููู ูุจุฏุฆู ููุท | ุชุทุจูู migrations ุนูุฏ ุงูุชุญูู ูุจูุฆุฉ Postgres |

### ูุคุดุฑุงุช ุณุฑูุนุฉ

*ุฌููุน ุงุฎุชุจุงุฑุงุช E2E ุฐุงุช ุงูุตูุฉ ุชูุฑ (Isolation โ).
*ูุง ุชุณุฑูุจุงุช cross-tenant ููุชุดูุฉ ูู ุงูุญุงูุงุช ุงููุบุทุงุฉ ุจุงูุงุฎุชุจุงุฑุงุช.
*ูุงุฌูุฉ Swagger (/docs) ููุนููุฉ ูุญููุงู (NODE_ENV != production) ูุชุญูู ุงูููุฏุฑ ุนุงูููุงู.

---

### 15.3 ุฅุบูุงู ุงููุฑุญูุฉ 1 (Backend Core Slice) โ ุญุงูุฉ ููุงุฆูุฉ

| ุงูุจูุฏ | ุงูุญุงูุฉ | ููุงุญุธุฉ ูุฎุชุตุฑุฉ |
|-------|---------|----------------|
| ูุทุงู ุงููุฑุญูุฉ 1 ุงููุฎุทููุท (Auth + Tenancy + Farms/Ponds CRUD + ุชูุซูู ุฃุณุงุณู) | โ ููุชูู | ูุทุงุจู ูููุฎุฑุฌุงุช ุงููุชูู ุนูููุง |
| ุชุญุณููุงุช ุฅุถุงููุฉ (Pagination, Notifications batch, Rate Limiting, SSE) | โ ููุชูู | ููุซูุฉ ูู 15.2 |
| ุงุณุชูุฑุงุฑ ุงูุงุฎุชุจุงุฑุงุช (Unit + E2E Isolation + Rate Limit) | โ | ุชุบุทูุฉ ูุญุฏุงุช pagination + ุณููุงุฑูููุงุช ุนุฒู |
| ุชูุซูู ููู (README, Swagger, ุฎุทุฉ ุชูููุฉ) | โ | ูุญุฏุซ ููุชุถูู ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ |
| ุนูุงุตุฑ ููุคุฌูุฉ ูููุฑุญูุฉ 2 | โ ููููุช | ูุฐููุฑุฉ ุฃุฏูุงู |

ูุณุจุฉ ุงูุฅูุฌุงุฒ ุงูุฅุฌูุงููุฉ ูููุฑุญูุฉ 1: **100%** (ุชุงุฑูุฎ ุงูุฅููุงู: 2025-09-28)

#### ุงูุนูุงุตุฑ ุงูููุฑุญููุฉ ุฅูู ุงููุฑุญูุฉ 2 (Backlog Transferred)

| ุนูุตุฑ | ุณุจุจ ุงูุชุฃุฌูู | ุฃููููุฉ ููุชุฑุญุฉ Sprint 2 |
|-------|-------------|-------------------------|
| Retry-After Header + Named Throttler Profiles | ุบูุฑ ุญุฑุฌ ูุธููููุง ุงูุขู | ุนุงููุฉ |
| ุงุฎุชุจุงุฑ ุชูุงููู ูู SSE Notifications | ุชุญุณูู ุฌูุฏุฉ ูุงุญู | ูุชูุณุทุฉ |
| Redis Pub/Sub ููุจุซ (ุจุฏูู EventEmitter ูุญูู) | ูุทููุจ ุนูุฏ ุงูุชูุณุน ุงูุฃููู | ูุชูุณุทุฉ |
| ูุงูุจ OpenAPI ุนุงู `Paginated<T>` | ุชูุญูุฏ ุชูุซูู ูุงุญู | ูุชูุณุทุฉ |
| RBAC Granular Matrix (ุชูุตูู ุงูุฃุฏูุงุฑ) | ูุชุทูุจ ุชุญููู ูุทุงู ุฃูุณุน | ุนุงููุฉ |
| ุชุทุจูู RLS ูุนูู (Postgres Policies) | ูุนุชูุฏ ุนูู ุชูุงูุฑ Postgres ููุฏุงุฑ | ุนุงููุฉ |
| Seed/Scaffold ูุจุฏุฆู ููุญุณุงุจุงุช (Accounting Seed) | ุจุนุฏ ุถุจุท ูุทุงู ุงูุญุณุงุจุงุช ุงููุญูู | ูุชูุณุทุฉ |

#### ููุฎุต ุญุงูุฉ ุงููุฑุงุญู (Snapshot ุจุนุฏ ุฅููุงู ุงููุฑุญูุฉ 1)

| ุงููุฑุญูุฉ | ุงููุตู ุงููุฎุชุตุฑ | ุงูุญุงูุฉ | ูุณุจุฉ ุงูุชูุฏู | ุงูููุงุญุธุงุช ุงูุญุงููุฉ |
|---------|---------------|--------|-------------|-------------------|
| 0 | ุงูุฅุนุฏุงุฏ ูุงูุชุญุถูุฑ | ููุชููุฉ | 100% | ูุซุงุฆู ุชุฃุณูุณ + SRS + ุณูุงุณุงุช ุฃูููุฉ |
| 1 | Backend Core Slice ุฃููู (Auth, Tenancy, Farms/Ponds) | ููุชููุฉ | 100% | ุฃุถููุช ุชุญุณููุงุช ุฅุถุงููุฉ ูุดูููุฉ |
| 2 | ุงูุจููุฉ ุงูุชุญุชูุฉ ู DevOps (Infra & CI/CD & Observability) | ูุงุฏูุฉ | 0% | ุณุชุจุฏุฃ ููุฑ ุชุตุฏูู ูุฐุง ุงูุฅููุงู |
| 3 | ุชูุณุนุฉ Backend (ูุฒูุฏ ุงูููุงุฑุฏ + ูุญุงุณุจุฉ ุฃุนูู) | ูุฎุทุท | 0% | ูุนุชูุฏ ุนูู ุชุฌููุฒ ุงููุฑุญูุฉ 2 |
| 4+ | ุจุงูู ุงููุฑุงุญู (Frontend, IoT, BI, ุฃูู ูุชูุฏู...) | ูุฎุทุท | 0% | ุจุฏูู ุชุบููุฑ |

> ุจููุฌุจ ูุฐุง ุงููุณู ุชูุนุชูุจุฑ ุงููุฑุญูุฉ 1 ูุบููุฉ ุฑุณูููุงุ ุฃู ุชุทููุฑ ุชุงูู ููุณุฌููู ุถูู Backlog ุงููุฑุญูุฉ 2 ููุง ุจุนุฏูุง.

---

---

### ููุงุญุธุฉ ุฃุฎูุฑุฉ

ุชู ุชุตููู ูุฐู ุงูุฎุทุฉ ูุชููู ุดุงููุฉ ููุงุจูุฉ ููุชูููุฐ ุฎุทูุฉ ุจุฎุทูุฉ. ุฅุฐุง ุฑุบุจุชุ ูููููู ุงูุขู ุชูููุฏ: ERD ููุตู + SQL schema ุงุจุชุฏุงุฆู + ูููุฐุฌ API (OpenAPI) + ุตูุญุงุช Figma ูุจุฏุฆูุฉ. ุญุฏุฏ ูุง ุชุฑุบุจ ุฃู ุฃุจุฏุฃ ุจู ููุฑุงู.

---

## 16. ุฅุถุงูุฉ: ุชุญูููุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู (AI Analytics)

> ูุฐุง ุงููุณู ููุถุญ ููู ูุชู ุฏูุฌ ูุฏุฑุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุฏุงุฎู ุงูููุตุฉ ูุฑูุน ูููุฉ ุงูููุชุฌุ ุฏุนู ุงุชุฎุงุฐ ุงููุฑุงุฑุ ูุชูููู ุงูุชูุงููู ุงูุชุดุบูููุฉ ูููุฒุงุฑุน.

### 16.1 ุญุงูุงุช ุงุณุชุฎุฏุงู ุฃุณุงุณูุฉ (Use Cases)

1. **ุงูุชูุจุค ุจููู ุงูุฃุณูุงู ูุงููุฒู ุงููุชูุณุท**: ููุงุฐุฌ ุชูููุน ูุฒู ุงูุณูู ุนูู ูุฏุงุฑ ุงูุฒูู ููู ุฏูุฑุฉ ุฅูุชุงุฌ ุจูุงุกู ุนูู ุจูุงูุงุช ุงูุชุบุฐูุฉ ูุฌูุฏุฉ ุงูููุงู ูุงูุทูุณ.
2.**ุงูุชูุจุค ุจูุนุฏูุงุช ุงููููู (Mortality Prediction)**: ูุดู ุงูุญุงูุงุช ุงููุฑุชูุนุฉ ุงูุฎุทูุฑุฉ ูุจู ูููุนูุง ุจูุงุกู ุนูู ุฃููุงุท ุงูููุงุณุงุช ูุจูุงูุงุช ุงูุชุงุฑูุฎ.
3.**ุชุญุณูู ุฌุฑุนุงุช ุงูุฃุนูุงู (Feed Optimization)**: ุชูุตูุงุช ุฏููุงููููุฉ ููููุฉ ูููุน ุงูุนูู ูุชูููู ุงูุชูููุฉ ููู ูููู ูุฒู ููุชุณุจ.
4.**ูุดู ุงูุดุฐูุฐ/ุงูุฅูุฐุงุฑุงุช ุงููุจูุฑุฉ (Anomaly Detection)**: ุงูุชุดุงู ูุฑุงุกุงุช ุฌูุฏุฉ ููุงู ุบูุฑ ุทุจูุนูุฉ ุฃู ุณููู ุฃุฌูุฒุฉ IoT.
5.**ุงูุชุตููู ุงูุชููุงุฆู ููููุงุชูุฑ/ุงููููุฏ ุงููุญุงุณุจูุฉ**: ุงุณุชุฎุฏุงู NLP ูุชุตููู ุงูููุงุชูุฑ ููุถุน ุงููููุฏ ุงููุญุงุณุจูุฉ ุชููุงุฆูุงู (OCR + NLP).
6.**ุชุญููู ุงูุฑุจุญูุฉ ูุงูุชูููุฉ ููู ุฏูุฑุฉ/ุญูุถ**: ุชุญููู ุงูุนูุงูู ุงููุคุซุฑุฉ ูู ุงูุฑุจุญูุฉ ูุงูุชุฑุงุญ ุชุญุณููุงุช ุชุดุบูููุฉ.
7.**ุงูุชูุจุค ุจุงูุทูุจ ูุงูุฌุฏููุฉ ุงูุจูุนูุฉ**: ุชููุน ุฃุญุฌุงู ุงูุจูุน ูุชุฎุทูุท ุงูุญุตุงุฏ ูุงูุชุณููู.
8.**ูุณุงุนุฏ ุฐูู ุชูุงุนูู ุฏุงุฎู ุงูุชุทุจูู**: ูุงุฌูุฉ ุฏุฑุฏุดุฉ ููุฅุฌุงุจุฉ ุนู ุฃุณุฆูุฉ ุงููุดุบููู ูุฅุนุทุงุก ุชูุตูุงุช ููุฑูุฉ.

### 16.2 ุงูุจููุฉ ุงูุชูููุฉ ูุจุงูุจูุงูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู

***ูุตุงุฏุฑ ุงูุจูุงูุงุช:** ููุงุนุฏ ุจูุงูุงุช PostgreSQLุ ุจูุงูุงุช IoT (MQTT/HTTPS)ุ ุณุฌูุงุช ุงูุนูููุงุชุ ูููุงุช CSV ุงููุณุชูุฑุฏุฉุ ุตูุฑ/ุตูุฑ ุงููุฒุงุฑุน (ุฅู ูุฌุฏุช).
***ETL / Ingestion:** ุจูุงูุงุช ุชููููู ูุชููุญููุฏ ุนุจุฑ Batch jobs (Airflow) ูStream ingestion (Kafka) ููุฑุงุกุงุช ุงูููุช ุงูุญูููู.
***Feature Store:** ุชุฎุฒูู ุงูููุฒุงุช ุงููุญุณูุจุฉ (weights, feed\_per\_fish, rolling\_avg\_ph) ูููุตูู ุงูุณุฑูุน ุฃุซูุงุก ุงูุชุฏุฑูุจ ูุงูุชูุจุค.
***Training Layer:** ููุตุงุช ุชุฏุฑูุจ ุนูู GPU (on-premise ุฃู cloud: AWS SageMaker / GCP Vertex / Azure ML).
***Model Registry & MLOps:** MLflow ุฃู Kubeflow ูุชุชุจุน ุงูููุงุฐุฌุ ุงููุณุฎุ ูุงูู CI/CD ููููุงุฐุฌ.
***Serving:** ุฎุฏูููุฉ ููููุงุฐุฌ (KFServing, TorchServe, FastAPI + Docker) ุชุฏุนู ุงูุชูุจุคุงุช ุนุจุฑ REST/GRPC.
***Monitoring:** ูุฑุงูุจุฉ ุฃุฏุงุก ุงูููุงุฐุฌ (drift, skew), loggingุ ูalerts ุนูู ุชุฏููุฑ ุงูุฏูุฉ.

### 16.3 ุฃููุงุน ุงูููุงุฐุฌ ุงูููุชุฑุญุฉ

***Time-series forecasting:** Prophet, LSTM, TCN, Transformer-based models (Temporal Fusion Transformer) ููุชูุจุค ุจุงููุฒู ูุงูููู.
***Tree-based models:** XGBoost/LightGBM ูููุฒุงุช ููุฌูููุนุฉ ููุฑุงุฑุงุช ุณุฑูุนุฉ ูู ุงูุชูุจุค ุจุงููููู ูุฃุญุฏุงุซ ุงูุญุฑุฌุฉ.
***Anomaly detection:** Isolation Forest, Autoencoders, One-Class SVM ูููุฑุงุกุงุช ุงูุญุณูุฉ.
***NLP / OCR:** Tesseract ุฃู ุฎุฏูุงุช OCR ุณุญุงุจูุฉ ูุน ููุงุฐุฌ Transformer (BERT ุนุฑุจู/ุฅูุฌููุฒู) ูุชุตููู ุงูููุงุชูุฑ ููุถุน ุงููููุฏ ุงููุญุงุณุจูุฉ.
***Reinforcement Learning (ูุณุชูุจูู):** ูุชุญุณูู ุณูุงุณุงุช ุงูุชุบุฐูุฉ ุถูู ุจูุฆุงุช ูุญุงูุงุฉ ูุชูููู ุงูุชูุงููู ูุฒูุงุฏุฉ ุงูุฅูุชุงุฌ.

### 16.4 ูุชุทูุจุงุช ุงูุจูุงูุงุช ูุงูุญูููุฉ

***ุฌูุฏุฉ ุงูุจูุงูุงุช:** ุณูุงุณุงุช ุชูุธููุ ุงูุชุนุงูู ูุน ุงูููู ุงูููููุฏุฉุ ูุนูููุงุช ุงูุฅุซุฑุงุก (enrichment).
***ุชุตููู ุงูุจูุงูุงุช:** ุชุนููู ุงูุญููู ุงูุญุณุงุณุฉ (PII, Financial) ูุชุดููุฑูุง ุนูุฏ ุงูุชุฎุฒูู.
***ุงูุชูุงูู ูุงูุฎุตูุตูุฉ:** ุงูุงูุชุซุงู ูุงูุชุฒุงูุงุช ุงูุฎุตูุตูุฉ (GDPR) ูุฎูุงุฑุงุช ูุดุงุฑูุฉ/ุนุฏู ูุดุงุฑูุฉ ุงูุจูุงูุงุช ุจูู Tenants.
***ุฅุฏุงุฑุฉ ุชุณููุฉ ุงูุจูุงูุงุช (Labeling):** ุฃุฏูุงุช labeling ุฏุงุฎููุฉ ุฃู ุนุจุฑ ููุตุงุช (Labelbox) ูุฌูุน ุจูุงูุงุช ุชุฏุฑูุจ ูุตููุฉ (ูุซูุงู: ุญุงูุงุช ููููุ ุฃุณุจุงุจ ูููู).

### 16.5 ุชุตููู ูุงุฌูุงุช ูููุงุท ุงูุชูุงูู (APIs)

***Endpoints ุฑุฆูุณูุฉ ููุชุฑุญุฉ:**

  *`POST /api/v1/ai/predict/growth` โ ุชููุน ุงููุฒู ุงููุณุชูุจูู ูุญูุถ ุฃู ุฏูุฑุฉ.
  *`POST /api/v1/ai/predict/mortality` โ ุงุญุชูุงู ุงููููู ุฎูุงู N ุฃูุงู.
  *`GET /api/v1/ai/recommendations/feed` โ ุชูุตูุฉ ุฌุฑุนุงุช ุงูุฃุนูุงู.
  *`POST /api/v1/ai/anomaly` โ ุฅุฑุณุงู ุฏูุนุงุช ูุฑุงุกุงุช ููุชุญูู ูู ุงูุดุฐูุฐ.
  *`POST /api/v1/ai/ocr/invoice` โ ุงุณุชุฎุฑุงุฌ ูุชุตููู ุงูููุงุชูุฑ.

> ูู ุงุณุชุฏุนุงุก ูุชุทูุจ ูุตุงุฏูุฉ JWT ูุญูู `tenant_id` ูุถูุงู ุงูุนุฒู.

### 16.6 ูุงุจููุฉ ุงูุชุทุจูู (Online vs Batch)

***Batch jobs:** ุชูุงุฑูุฑ ููููุฉ/ุฃุณุจูุนูุฉ (growth forecasting, profitability analysis) โ ููุงุณุจุฉ ููุชุดุบูู ุงููุฌุฏูู ุนุจุฑ Airflow.
***Online serving:** ุชูุจููุงุช ุขููุฉ (anomaly detection) ูุชูุตูุงุช ุงูุชุบุฐูุฉ โ ุนุจุฑ ููุฏูู ุฎุฏูุฉ ููุฎูุถ ุฒูู ุงุณุชุฌุงุจุฉ (<200ms).

### 16.7 ูุงุจููุฉ ุงูุดุฑุญ ูุงูุดูุงููุฉ (Explainability)

*ุงุณุชุฎุฏุงู ุฃุฏูุงุช ูุซู SHAP/Integrated Gradients ูุดุฑุญ ูุฑุงุฑุงุช ุงูููุงุฐุฌ ุฎุงุตุฉ ูููุฎุฑุฌุงุช ุงููุญุงุณุจูุฉ ุฃู ุงูุชูุจุคูุฉ ุงููุงูุฉ.
*ุชูุฏูู ูุงุฌูุฉ ุชุนุฑุถ ุงูุณูุงุช ุงูุฃูุซุฑ ุชุฃุซูุฑูุง ูู ูู ุชูุจุค (ูุซูุงู: "ุงูุงุฑุชูุงุน ุงูุฃุฎูุฑ ูู ุงูุฃููููุง ุฒุงุฏ ูู ุงุญุชูุงู ุงููููู ุจูุณุจุฉ 12%")ุ ุจุงููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ.

### 16.8 ูุฑุงูุจุฉ ุงูุฃุฏุงุก ูุตูุงูุฉ ุงูููุงุฐุฌ

*ุชุชุจุน ูุคุดุฑุงุช: accuracy, RMSE, MAE, AUC ุญุณุจ ุงูุญุงูุฉ.
*ูุดู ุชุญููู ุงูุชูุฒูุน (data drift) ูุชูุจูู ุนูุฏูุง ุชูุฎูุถ ุงูุฏูุฉ ุนู ุนุชุจุฉ ูุญุฏุฏุฉ.
*ุณูุงุณุฉ ุฅุนุงุฏุฉ ุชุฏุฑูุจ: ุฅุนุงุฏุฉ ุชุฏุฑูุจ ุฏูุฑู (ูุซูุงู ูู 2-4 ุฃุณุงุจูุน) ุฃู ุนูุฏ ุงูุชุดุงู drift.

### 16.9 ูุชุทูุจุงุช ุงูุจููุฉ ุงูุชุญุชูุฉ ูุงูููุฒุงููุฉ ุงูุชูุฑูุจูุฉ

***ุจูุฆุฉ ุชุฏุฑูุจ:** GPU (NVIDIA T4/P100/V100) ุญุณุจ ุญุฌู ุงูุจูุงูุงุชุ ูููุตุญ ุจุงูุจุฏุก ุจู 1-2 GPU ุณุญุงุจู ููุชุฌุฑูุจ.
***ุชูููุงุช MLOps:** MLflow (OSS) + S3 (artifact store) + Postgres / Feature Store (Feast ุงุฎุชูุงุฑู).
***ุชูููุฉ ุชูุฑูุจูุฉ ูุจุฏุฆูุฉ:** \$1k - \$5k ุดูุฑููุง ูู ุงูุณุญุงุจุฉ ููุฑุงุญู ุงูุชุทููุฑ ูุงูุชุฌุฑูุจุ ูุชุฒูุฏ ุญุณุจ ุญุฌู ุงูุจูุงูุงุช ููููุฉ ููุงุฐุฌ ุงูุฅูุชุงุฌ.

### 16.10 ูุฑูู ููุณุคูููุงุช AI

*Data Scientist / ML Engineer (1-2)
*ML Ops Engineer (1)
*Data Engineer (1)
*Domain Expert / Aquaculture Specialist (1)
*Backend Engineer ูุฑุจุท ุงูููุงุฐุฌ ุจุงูู APIs (1)

### 16.11 ุฎุงุฑุทุฉ ุทุฑูู ุชูููุฐููุฉ ููุชุฑุญุฉ (Milestones) โ 12 ุฃุณุจูุน ูุจุฏุฆูุงู

1. **ุฃุณุจูุน 1-2:** ุฌูุน ุงูุจูุงูุงุชุ ุชุญููู ุฌูุฏุชูุงุ ุชุญุฏูุฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุฐุงุช ุงูุฃููููุฉ (growth, mortality).
2.**ุฃุณุจูุน 3-4:** ุจูุงุก ETL ูFeature Storeุ ุชุฌุงุฑุจ ููุงุฐุฌ ุฃูููุฉ (baseline models).
3.**ุฃุณุจูุน 5-6:** ุชุฌููุฒ MLOps (MLflow), ุชุณุฌูู ุงูููุงุฐุฌุ ูููุฐุฌุฉ ุงูุฃุฏุงุก (validation).
4.**ุฃุณุจูุน 7-8:** ูุดุฑ ููุงุฐุฌ Serving (batch + online), ุฅุนุฏุงุฏ API endpoints.
5.**ุฃุณุจูุน 9-10:** ุงูุชูุงูู ุจุงููุงุฌูุฉุ ุชูุงุฑูุฑ ุงูุดุฑุญ (SHAP)ุ ูุงุฎุชุจุงุฑุงุช A/B ูุน ุนููุงุก Pilot.
6.**ุฃุณุจูุน 11-12:** ูุฑุงูุจุฉ ุงูุฅูุชุงุฌุ ุชุญุณููุงุชุ ูุซุงุฆู ุงูุชุดุบูู ูุชุฏุฑูุจ ุงููุณุชุฎุฏููู.

### 16.12 ุงุนุชุจุงุฑุงุช ูุงููููุฉ ูุฃุฎูุงููุฉ

*ููุงููุฉ Tenants ุนูู ุงุณุชุฎุฏุงู ุจูุงูุงุชูู ูู ุงูุชุฏุฑูุจ (ุฅูุง ูุดููุนุฉ ุฃู ูุฌูููุฉ/ูุฌูุนุฉ).
*ุชูููุฑ ุฎูุงุฑ ุนุฏู ูุดุงุฑูุฉ ุงูุจูุงูุงุช (opt-out) ุฃู ูุดุงุฑูุฉ ูุฌูุนุฉ ููุท.
*ุชูุซูู ูุฑุงุฑุงุช ุงูููุงุฐุฌ ูู ุงูุณุฌูุงุช ูุฃุบุฑุงุถ ุชุฏููู ุงููุญุงุณุจุฉ.

---

**ุชูุช ุฅุถุงูุฉ ูุฐุง ุงููุณู ุฅูู ููู ุงูุฎุทุฉ.**

*ุฅุฐุง ุฑุบุจุชุ ุฃุณุชุทูุน ุงูุขู:*

*1. ุชูููุฏ ูููุฐุฌ API ุนููู (OpenAPI) ูููุงุท ุงูููุงูุฉ ุฃุนูุงู.
*2. ุฅูุดุงุก ูุณูุฏุงุช ุณูุฑุจุชุงุช ETL ููููุงุช ุฅุนุฏุงุฏ MLOps (MLflow, Dockerfile, deployment manifests).
*3. ุจูุงุก PoC ุตุบูุฑ (ููุฏ ุชุฏุฑูุจ ูููุฐุฌู + endpoint serving) ุจุงุณุชุฎุฏุงู ุจูุงูุงุช ุชุฌุฑูุจูุฉ ุงูุชุฑุงุถูุฉ.

ุงุฎุชุฑ ุฑูู ุฃู ุฃูุซุฑ ูุฃุจุฏุฃ ุงูุชูููุฐ ููุฑูุง.

---

## 17. ุฅุถุงูุฉ: ุงูููุงููู ูุงูุฃูุธูุฉ ุงูุนุฑุจูุฉ ูู ุงููุญุงุณุจุฉ

> ูุถูุงู ุชูุงูู ุงููุธุงู ูุน ุงูุจูุฆุงุช ุงูุนุฑุจูุฉ ูุฌุจ ูุฑุงุนุงุฉ ุงูุฃูุธูุฉ ูุงูุชุดุฑูุนุงุช ุงููุญููุฉ ูููุญุงุณุจุฉุ ุจุฌุงูุจ ุงููุนุงููุฑ ุงูุฏูููุฉ (IFRS). ูููุง ููู ุฎุทุฉ ุฅุฏูุงุฌ ูุฐู ุงููุชุทูุจุงุช.

### 17.1 ุงููุนุงููุฑ ูุงูุฃูุธูุฉ ุงูุนุฑุจูุฉ ุงููุณุชูุฏูุฉ

***ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ:** ูุธุงู ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ (VAT 15%)ุ ุงูุฒูุงุฉุ ูุชุทูุจุงุช ููุฆุฉ ุงูุฒูุงุฉ ูุงูุถุฑูุจุฉ ูุงูุฌูุงุฑู (ZATCA).
***ูุตุฑ:** ูุงููู ุงูุถุฑูุจุฉ ุนูู ุงููููุฉ ุงููุถุงูุฉุ ูุงููู ุงูุถุฑุงุฆุจ ุนูู ุงูุฏุฎูุ ุงููุงุชูุฑุฉ ุงูุฅููุชุฑูููุฉ (e-invoicing).
***ุงูุฅูุงุฑุงุช:** ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ (VAT 5%)ุ ูุชุทูุจุงุช ุงูููุฆุฉ ุงูุงุชุญุงุฏูุฉ ููุถุฑุงุฆุจ (FTA).
***ุงูุณูุฏุงู:** ุถุฑุงุฆุจ ุงููููุฉ ุงููุถุงูุฉุ ุงูููุงููู ุงููุญููุฉ ููุฅุนูุงุกุงุช ุงูุฒุฑุงุนูุฉ.
***ุฏูู ุฃุฎุฑู:** ุงูุงูุชุซุงู ููุฃูุธูุฉ ุงูุถุฑูุจูุฉ ุงููุญููุฉ ูุชุญุฏูุซูุง ุงููุณุชูุฑ.

### 17.2 ุงูุชูุงูู ูุน ุงูุฃูุธูุฉ ุงูุถุฑูุจูุฉ

ูุณุชูุฒู ุงููุธุงู ุทุจูุฉ ุฅุนุฏุงุฏ ุถุฑูุจู (Tax Configuration Layer) ูุงุจูุฉ ููุชุฎุตูุต ููู Tenant ูุน ุฏุนู ุงูููุงุนุฏ ุงููุดุชุฑูุฉ ุงูุชุฑุงุถููุง ูุฅุนุงุฏุฉ ุชุนุฑูู ูุญููุฉ. ุงูุนูุงุตุฑ ุงูุฃุณุงุณูุฉ:

| ุนูุตุฑ | ูุตู | ูุงุจููุฉ ุงูุชููุฆุฉ |
|-------|-----|-----------------|
| VAT Rates | ูุณุจ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ (5%, 15%, 0%, ูุนูู) | ููู ุฏููุฉ / Tenant |
| Withholding Tax | ุงุณุชูุทุงุน ุนูุฏ ุงููุตุฏุฑ ูุจุนุถ ุฃููุงุน ุงููุฏููุนุงุช | ููู ุฏููุฉ |
| Zakat (ุงูุณุนูุฏูุฉ) | ุญุณุงุจ ุงูุฒูุงุฉ ุนูู ุฑุฃุณ ุงููุงู/ุงููุนุงุก ุงูุฒููู | ุชูููู / ุชุนุทูู + ูุนุงุฏูุงุช |
| E-Invoice Profile | ุดูู ุงููุงุชูุฑุฉ ุงูุฅููุชุฑูููุฉ (ุญูู QR, UUID, Signing) | ููู ุฏููุฉ |
| Rounding Rules | ุณูุงุณุฉ ุงูุชูุฑูุจ (ููุณุฉ/ุฃูุฑุจ/ูุฃุนูู) | ููู ุนููุฉ |
| Tax Exempt Codes | ุฑููุฒ ุงูุฅุนูุงุก / ุงูุฃุณุงุณ ุงููุงูููู | ูุงููุณ ูุญูู |

### 17.3 ุทุจูุฉ ุงููุญุฑู ุงูุถุฑูุจู (Tax Engine Layer)

ููููู ูููุตู (module) ูููู ุจู:

1. ุชุญููู ุณุทูุฑ ุงููุงุชูุฑุฉ (Lines) ูุชุญุฏูุฏ ูุนุฏู ุงูุถุฑูุจุฉ ุจูุงุกู ุนูู: ููุน ุงูุณูุนุฉุ ุฌูุฉ ุงูุชูุฑูุฏุ ุงูุฏููุฉุ ุชุงุฑูุฎ ุงูุณุฑูุงู.
2.ุฏุนู ููุงุนุฏ ุชุงุฑูุฎูุฉ (Effective Date) ูุชุบููุฑ ูุนุฏูุงุช ุงูุถุฑูุจุฉ.
3.ุฅุฑุฌุงุน ุชูุงุตูู ุถุฑูุจูุฉ ููุตููุฉ: (Base Amount, Tax Rate, Tax Amount, ExemptionReason, TaxCode).
4.ุชูููุฏ ุชุฌููุน (Tax Summary) ููููุงุชูุฑ ูุงูุชูุงุฑูุฑ (VAT Return / ุฅูุฑุงุฑ ุถุฑูุจู).
5.ุชูููุฑ API ุฏุงุฎูู: `calculateInvoiceTax(draftInvoiceDto) => TaxComputationResult`.

### 17.4 ุงูููุชุฑุฉ ุงูุฅููุชุฑูููุฉ (E-Invoicing) โ ูุชุทูุจุงุช ูุฎุชุงุฑุฉ

| ุฏููุฉ | ูุชุทูุจุงุช ุฑุฆูุณูุฉ | ุชุจุนุงุช ุชูููุฉ |
|------|----------------|-------------|
| ุงูุณุนูุฏูุฉ (ZATCA) | TLV QR, UUID, ุชูููุน ุฑูููุ ูุชุฑุฉ ูุฑุญูุฉ | ููุชุจุฉ ุชูููุฏ TLV + ููุงุชูุญ ุชูููุน + ุชุฎุฒูู Hash |
| ูุตุฑ | ุจูุงุจุฉ EGS, Token OAuth, ุฅุฑุณุงู XML/JSON | ููุตู (Connector) + Queue ููู retry |
| ุงูุฅูุงุฑุงุช | ูุงุชูุฑุฉ ุถุฑูุจูุฉ ููุงุณูุฉ (ูุง ุฒุงู ุจุณูุท) | ุชูุณูู PDF/HTML + ุฃุฑูุงู ุชุณูุณููุฉ |
| ุฏูู ุฃุฎุฑู | ูุงุญูุงู | ุชุตููู ูุงุฌูุฉ Plug-in |

ูุฑุงุญู ุงูุชูููุฐ ุงูููุชุฑุญุฉ ููููุชุฑุฉ ุงูุฅููุชุฑูููุฉ:

1. ุทุจูุฉ ุชุฌุฑูุฏ (Adapter Interface).
2.ููุตู ZATCA (Sandbox) + ุงุฎุชุจุงุฑุงุช.
3.ููุตู EGS (ูุตุฑ) + ุฅุฏุงุฑุฉ ุงูุฑููุฒ (Token Rotation).
4.ุฅุฏุฑุงุฌ ุญุงูุฉ ุงูุชุฏูู ุถูู Workflow (Draft -> Approved -> Reported -> Acknowledged).

### 17.5 ูุฎุทุท ุงูุญุณุงุจุงุช (Chart of Accounts) ุงููุญูู

ููุฌ: ูุงูุจ IFRS ุฃุณุงุณู + Overlays ููู ุฏููุฉ:

*ุงูุณุนูุฏูุฉ: ุญุณุงุจุงุช ุงูุฒูุงุฉุ ุงูุงุญุชูุงุทู ุงููุธุงูู.
*ูุตุฑ: ุญุณุงุจุงุช ุงูุถุฑุงุฆุจ ุงููุคุฌูุฉุ ูุฑูู ุงูุนููุฉ.
*ุงูุฅูุงุฑุงุช: ุจุณุงุทุฉ ุฃุนูู (IFRS ูุจุงุดุฑ).

ุชูููุฐ: ุฌุฏูู `chart_templates` + ุฌุฏูู `tenant_chart_accounts` (ูููุฏ ูู ุงููุงูุจ + ูุณูุญ ุจุงูุชุฎุตูุต ุงููุญุฏูุฏ).

### 17.6 ุงูุนููุงุช ุงููุชุนุฏุฏุฉ ูุงูุชูููู (Multi-Currency)

*ุชุฎุฒูู ุฌููุน ุงูุณุฌูุงุช ุจุงููููุฉ ุงููุญููุฉ + ุนููุฉ ุนุฑุถ (reporting currency) ุฅุฐุง ุชู ุชูููููุง.
*ุฌุฏูู ุฃุณุนุงุฑ ุตุฑู ูููู (FX Rates) ูุน ูุตุฏุฑ (ECB / OpenExchange / Manual).
*ุชูููุฏ ูููุฏ ูุฑูู ุงูุนููุฉ (Unrealized / Realized FX) ููุงูุฉ ุงููุชุฑุฉ.

### 17.7 ุงููููุฏ ุงููุญุงุณุจูุฉ ุงูุชููุงุฆูุฉ (Auto Posting Rules)

| ุญุฏุซ | ูููุฏ ุฃุณุงุณูุฉ | ููุงุญุธุงุช |
|-----|-------------|---------|
| ุดุฑุงุก ุฃุนูุงู | Debit Inventory / Credit Accounts Payable | ุชุทุจูู ุงูุถุฑูุจุฉ ุงููุฏุฎูุฉ |
| ุงุณุชููุงู ุฃุนูุงู | Debit COGS / Credit Inventory | Batch Job / ูุจุงุดุฑ |
| ูููู | Debit Loss Account / Credit Inventory / Biological Assets | ูุนุชูุฏ ุนูู ุณูุงุณุงุช ุชูููู |
| ุจูุน ููุชุฌุงุช (Harvest) | Debit Accounts Receivable / Credit Revenue + VAT Output | ุนูุฏ ุฅุตุฏุงุฑ ูุงุชูุฑุฉ |
| ุชุญุตูู | Debit Cash / Credit Accounts Receivable | ุฏุนู ุงุฎุชูุงู ุงูุนููุฉ |

### 17.8 ุงูุชุฏููู ูุงูุฃุซุฑ (Audit & Traceability)

*ูู ููุฏ JournalEntry ูู: `source_module`, `source_reference`, `hash_chain_prev` (ุฑุจุท ุชุฌุฒุฆู ูุชุณููู ูุดู ุงูุนุจุซ).
*ููู ุงููุชุฑุงุช ุงููุงููุฉ ุจุนุฏ ุงูุฅููุงู (Period Lock) ูุน ุณุฌู ูุชุญ/ุฅุบูุงู.
*Export ุชุฏูููู (JSON + CSV) ุจุงุณู ุชูููุน Hash.

### 17.9 ุงูุชูุงุฑูุฑ ุงูุฏูุฑูุฉ

*ุชูุฑูุฑ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ (ููุฎูุต Tax Codes + ุตุงูู ูุณุชุญู).
*ุชูุฑูุฑ ุฒูุงุฉ (ูุนุงุฏูุฉ ูุนุงุก + ุตุงูู ุฒูุงุฉ ููุชุฑุญุฉ).
*ุชุญููู ุชูููุฉ ุงูุฅูุชุงุฌ ููู ูููู (ุชุฌููุน ุฃุนูุงู + ูููู + ุฎุฏูุงุช ุชุดุบูููุฉ / ุฅุฌูุงูู ูุฒู ูุญูู).

### 17.10 ุฎุทุฉ ุทุฑุญ ุชุฏุฑูุฌู ูููุญุงุณุจุฉ ุงููุญููุฉ

| ูุฑุญูุฉ | ูุทุงู | ูุฏู ุงูุงุนุชูุงุฏ |
|--------|------|--------------|
| A | IFRS ุนุงู + VAT ุฃุณุงุณู | Merged ูู ุจูุฆุฉ Staging |
| B | ZATCA (QR + ุชูููุน) | Pilot ุนููู ุณุนูุฏู |
| C | EGS Egypt Connector | Pilot ุนููู ูุตุฑู |
| D | Multi-Currency + FX | ุฅุทูุงู ุนุงู ูุญุงุณุจู ูุชูุฏู |
| E | ุชูุงุฑูุฑ ุฒูุงุฉ + ุถุฑุงุฆุจ ููุณุนุฉ | ุงูุงูุชุซุงู ุงููุชูุงูู |

### 17.11 ูุฎุงุทุฑ ูุชุฎููู

| ุฎุทุฑ | ุงูุฃุซุฑ | ุงูุฅุฌุฑุงุก ุงูููุงุฆู |
|------|-------|-----------------|
| ุชุบููุฑ ุชุดุฑูุนุงุช ูุฌุงุฆู | ุฅุนุงุฏุฉ ุนูู / ุชุฃุฎูุฑ | ุชุตููู Rules ูุงุจูุฉ ููุชุญุฏูุซ ุนุจุฑ DB |
| ุชุฃุฎูุฑ ููุตู E-Invoice | ุชุนุทูู ุงูุฅุทูุงู ูู ุฏููุฉ | ุงุนุชูุงุฏ Manual Export ูุคูุช |
| ุฃุฎุทุงุก ุงุญุชุณุงุจ VAT | ุงูุชุฒุงูุงุช ูุงููููุฉ | ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ + ุงุฎุชุจุงุฑุงุช ููููุฉ (Property-based) |
| ุนุฏู ุฏูุฉ ุฃุณุนุงุฑ ุงูุตุฑู | ูุฑูู ุชูููู ุฎุงุทุฆุฉ | ูุตุฏุฑูู + ุขููุฉ ูุตุงุฏูุฉ Manual Override |

### 17.12 ูุคุดุฑุงุช ูุฌุงุญ ุงููุญุงุณุจุฉ ุงููุญููุฉ

*ูุณุจุฉ ุงูููุงุชูุฑ ุงูููุจููุฉ ุจุฏูู ุฑูุถ ูู ุงููููุงุช ุงูุฑุณููุฉ > 98%.
*ุฒูู ุงุญุชุณุงุจ ูุงุชูุฑุฉ (Server) < 120ms.
*ุฒูู ุฅุบูุงู ูุชุฑุฉ ุดูุฑูุฉ ุจุนุฏ ููุงูุฉ ุงูุดูุฑ < 2 ููู ุนูู.

### 17.13 ุงูููุงู ุงูููุฑูุฉ (Next Immediate Accounting Tasks)

1. ุชุตููู ุฌุฏุงูู: `tax_profiles`, `tax_rates`, `invoice_series`, `e_invoice_submissions`.
2.ุฑุณู ูุฎุทุท Posting Engine (State Diagram) ููููุชุฑุฉ.
3.ุชูููุฏ Migration ุฃููู ููุญุณุงุจุงุช ุงูุฃุณุงุณูุฉ (Chart Template).
4.ูุชุงุจุฉ ูุญุฏุฉ ุงุฎุชุจุงุฑ Property-based ูุญุณุงุจ VAT (ูุฏู ูุนุฏูุงุช 0โ20%).
5.PoC ูุชูููุฏ TLV QR (ZATCA) + ุชุฎุฒูู ุงูุชูููุน.

---

## 18. ุฎุงุฑุทุฉ ุฑุจุท (Mapping) ุจูู ุงูู Roadmap ุงูุนุงู ูุงูุชูููุฐ ุงูุญุงูู

| ูุฌุงู | ุงููุถุน ุงูุญุงูู | ุงููุฑุญูุฉ ุงููุฎุทุทุฉ ุงูุชุงููุฉ | ูุฌูุฉ ุฑุฆูุณูุฉ |
|------|-------------|--------------------------|-------------|
| OpenAPI Core | โ (0.2.0) | ุฅุซุฑุงุก Examples & Error Codes | ุชูุญูุฏ ุฃููุงุฏ ุฃุฎุทุงุก ุนููุงููุฉ |
| Multi-Tenancy | โ ุฃุณุงุณูุงุช | ุชุทุจูู RLS ูุนูู | ุณูุงุณุฉ row security |
| Water Quality | ููุฏ ุงูุฅุถุงูุฉ (Spec ุฌุงูุฒ) | Implement Service + Trends Logic | ุฎูุงุฑุฒููุงุช ุงูุชุญููู |
| Accounting | ูุจุฏุฆู (Journal Entry Stub) | ุจูุงุก Tax Engine | ุชุตููู CoA ูุญูู |
| IoT Ingestion | ุบูุฑ ูููุฐ | ุจูุงุจุฉ MQTT/HTTPS | ุฃูุงู ุงูุฌูุงุฒ |
| AI Analytics | ููุซู ููุท | ุชุญุฏูุฏ Data Contracts | ุฌูุฏุฉ ุงูุจูุงูุงุช |
| E-Invoicing | ุบูุฑ ูููุฐ | Adapter Interface | ุชูููุน ุฑููู |
| Mobile Offline | ุบูุฑ ูููุฐ | Sync Strategy Draft | ุชุถุงุฑุจ ุงูุจูุงูุงุช |

## 19. ูุตูููุฉ ูุฎุงุทุฑ ุดุงููุฉ (Expanded Risk Matrix)

| ุงูุชุตููู | ุงูุฎุทุฑ | ุงูุงุญุชูุงู | ุงูุฃุซุฑ | ุฃููููุฉ | ุฎุทุฉ ุงุณุชุจุงููุฉ | ุฎุทุฉ ุทูุงุฑุฆ |
|---------|-------|----------|-------|--------|--------------|-------------|
| ุชููู | ูุดู ุงุนุชูุงุฏ RLS | ูุชูุณุท | ุนุงูู | ูุฑุชูุน | ุงุฎุชุจุงุฑ ูุจูุฑ + Audit Logging | fallback ููุชุฑุฉ ุชุทุจูููุฉ |
| ุชููู | ุงุฎุชูุงู PostgreSQL (I/O) | ููุฎูุถ | ุนุงูู | ูุชูุณุท | ููุงุฑุณ + ูุฑุงูุจุฉ | Sharding / Read Replicas |
| ุฃูุงู | ุชุณุฑุจ ููุชุงุญ ุชูููุน E-Invoice | ููุฎูุถ | ุญุฑุฌ | ูุฑุชูุน | HSM/KMS + Rotation | ุฅุจุทุงู ููุฑู + ุฅุนุงุฏุฉ ุฅุตุฏุงุฑ |
| ุงูุชุซุงู | ุฎุทุฃ VAT ุฌูุงุนู | ููุฎูุถ | ุนุงูู | ูุฑุชูุน | Property Tests + ูุฑุงุฌุนุฉ ูุญุงุณุจ | ุชุตุญูุญ ุฑุฌุนู + ุฅุจูุงุบ ุนููุงุก |
| ุฃุฏุงุฆู | ุญูู ูุฑุงุกุงุช IoT Burst | ูุชูุณุท | ูุชูุณุท | ูุชูุณุท | Buffer + Queue | ุชูููุต ูุนุฏู ุงููุนุงูุฌุฉ |
| ููุชุฌ | ุชุนููุฏ ูุงุฌูุฉ ุงููุณุชุฎุฏู | ูุชูุณุท | ูุชูุณุท | ูุชูุณุท | ุงุฎุชุจุงุฑุงุช UX ูุจูุฑุฉ | ุชุญุณูู ุณุฑูุน Iteration |
| ุจูุงูุงุช | Drift ููุงุฐุฌ AI | ูุชูุณุท | ูุชูุณุท | ูุชูุณุท | ูุฑุงูุจุฉ Metrics | ุฅุนุงุฏุฉ ุชุฏุฑูุจ ุทุงุฑุฆ |

## 20. ูุงุฆูุฉ ุชูููุฐ ุณุฑูุนุฉ (Actionable Sprint Backlog Extract)

| ุฑูู | ุงููููุฉ | ุงูุชุตููู | ุงูุฌูุฏ (ูุณุจู) | ุงุนุชูุงุฏ ุณุงุจู |
|-----|--------|---------|--------------|--------------|
| 1 | Implement WaterQualityService (CRUD + Trends stub) | Backend | 5 | OpenAPI ุฌุงูุฒ |
| 2 | ุฅุถุงูุฉ Migration CoA ุฃุณุงุณู | Accounting | 3 | ุชุตููู ุฌุฏูู |
| 3 | ุฅูุดุงุก tax_rates & tax_profiles migrations | Accounting | 2 | 2 |
| 4 | PoC TLV QR ZATCA (Script) | Accounting/Compliance | 3 | 3 |
| 5 | ุฅุนุฏุงุฏ RLS Policies (Farms, Ponds) | Security/Data | 5 | Multi-Tenancy ุฌุงูุฒ |
| 6 | ุฅุนุฏุงุฏ Feature Flag Service | Platform | 2 | Core Config |
| 7 | ุฅุถุงูุฉ Unified Error Codes (ENUM) ูู Backend | Backend | 2 | ErrorResponse |
| 8 | ุฅุนุฏุงุฏ basic Device Registration Endpoint | IoT | 3 | Auth |
| 9 | ุฅุนุฏุงุฏ ุฌุฏูู fx_rates + sync job | Accounting | 4 | CoA |
| 10 | Draft Sync Strategy ููููุจุงูู (ูุซููุฉ) | Mobile | 2 | ูุง ุดูุก |

ููุงุญุธุฉ: ุงูุฌูุฏ (1-5) ุชูุฏูุฑู ูุณุจู ููุณุจุฑูุช (5 ุฃุนูู).

## 21. ุงูุฎุทูุฉ ุงูุฎุชุงููุฉ ุงูุญุงููุฉ

ุชู ุงุณุชููุงู ุชูุณูุน ุฎุงุฑุทุฉ ุงูุทุฑูู ุจุฅุถุงูุฉ ุชูุงุตูู ุงูุงูุชุซุงู ุงููุญุงุณุจู ุงูุฅูููููุ ุฎุทุฉ ุงููุญุฑู ุงูุถุฑูุจูุ ูุฑุงุญู ุงูุชุฏุฑุฌุ ูุงููุฎุงุทุฑ ูุน ุจุงู-ููุฌ ุนููู. ูููู ุงูุจุฏุก ููุฑูุง ุจุชูููุฐ ุงูุจููุฏ 1โ3 ู7 ุถูู Sprint ูุฑูุจ ูุชุณุฑูุน ุงููููุฉ ุงููุญููุฉ.

ุฅุฐุง ุฑุบุจุชุ ุฃุณุชุทูุน ุงูุขู ุฅูุชุงุฌ:

1.ูุฎุทุท ูุงุนุฏุฉ ุจูุงูุงุช (SQL) ููุฌุฏุงูู: tax_profiles, tax_rates, invoice_series, fx_rates.
2.Migration TypeORM ุฃููู ููุฐู ุงูุฌุฏุงูู.
3. Draft WaterQualityService + Module ูู Backend.

ุญุฏุฏ ุงุฎุชูุงุฑู ูุฃุชุงุจุน.
