# ØªÙ‚Ø±ÙŠØ± Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„ - AquaFarm Pro

## ğŸ“‹ Ù…Ù„Ø®Øµ ØªÙ†ÙÙŠØ°ÙŠ

ØªÙ… Ø¥Ø¬Ø±Ø§Ø¡ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ Ù„Ù…Ø´Ø±ÙˆØ¹ AquaFarm Pro Ù„ØªØ­Ø¯ÙŠØ¯ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© ÙˆØ§Ù„Ø¶Ø¹Ù ÙˆØ§Ù„ÙØ¬ÙˆØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©. Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙŠØ¸Ù‡Ø± Ø¨Ù†ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© ÙˆØªÙ‚Ù†ÙŠØ§Øª Ø­Ø¯ÙŠØ«Ø©ØŒ Ù„ÙƒÙ† Ù‡Ù†Ø§Ùƒ Ø¹Ø¯Ø© Ù…Ø¬Ø§Ù„Ø§Øª ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ­Ø³ÙŠÙ†.

---

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹

### Ø§Ù„Ù‡ÙŠÙƒÙ„ Ø§Ù„Ø¹Ø§Ù…
- **Backend**: NestJS Ù…Ø¹ TypeScript
- **Frontend**: Next.js Ù…Ø¹ React
- **Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**: PostgreSQL Ù…Ø¹ SQLite Ù„Ù„ØªØ·ÙˆÙŠØ±
- **Cache**: Redis
- **Ø§Ù„Ù†Ø´Ø±**: Docker Compose
- **Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©**: Prometheus + Grafana

### Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
- âœ… Phase 1 Ù…ÙƒØªÙ…Ù„ (Backend MVP)
- ğŸ”„ Sprint 2 Ù‚ÙŠØ¯ Ø§Ù„ØªÙ†ÙÙŠØ° (ØªØ­Ø³ÙŠÙ†Ø§Øª CI)
- ğŸ“‹ Phase 3 Ù…Ø®Ø·Ø· (Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ)

---

## ğŸ” Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©

### 1. Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©
- âœ… **Multi-Tenancy**: ØªØ·Ø¨ÙŠÙ‚ Ù…ØªÙ‚Ø¯Ù… Ù…Ø¹ Row Level Security
- âœ… **Ø£Ù…Ø§Ù†**: JWTØŒ RBACØŒ Rate Limiting
- âœ… **Ù…Ø±Ø§Ù‚Ø¨Ø©**: Prometheus metricsØŒ Structured logging
- âœ… **Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª**: ØªØºØ·ÙŠØ© Ø¬ÙŠØ¯Ø© Ù…Ø¹ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª E2E

### 2. Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©
- âœ… **TypeScript**: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø´Ø§Ù…Ù„
- âœ… **Docker**: ØªÙƒÙˆÙŠÙ† Ù…ØªÙ‚Ø¯Ù… Ù„Ù„Ø¥Ù†ØªØ§Ø¬ ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±
- âœ… **CI/CD**: GitHub Actions
- âœ… **ØªÙˆØ«ÙŠÙ‚**: OpenAPI/Swagger

### 3. Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©
- âœ… **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø²Ø§Ø±Ø¹**: ÙƒØ§Ù…Ù„Ø©
- âœ… **Ù…Ø±Ø§Ù‚Ø¨Ø© Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…ÙŠØ§Ù‡**: MVP
- âœ… **Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª**: SSE stream
- âœ… **Ø§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³**: Prometheus integration

---

## âš ï¸ Ø§Ù„Ù‚ØµÙˆØ± ÙˆØ§Ù„ÙØ¬ÙˆØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©

### 1. Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø­Ø±Ø¬Ø© ğŸ”´

#### Ø£. JWT Security Issues
```typescript
// ÙÙŠ auth.module.ts - Ø®Ø· 25
secret: cfg.get<string>('JWT_SECRET') || 'dev-insecure-secret',
```
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ù…ÙØªØ§Ø­ Ø§ÙØªØ±Ø§Ø¶ÙŠ ØºÙŠØ± Ø¢Ù…Ù† Ù„Ù„ØªØ·ÙˆÙŠØ±
**Ø§Ù„Ø®Ø·ÙˆØ±Ø©**: Ø¹Ø§Ù„ÙŠØ©
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: ØªØ¹Ø±Ø¶ Ø§Ù„Ù†Ø¸Ø§Ù… Ù„Ù„Ø§Ø®ØªØ±Ø§Ù‚

#### Ø¨. CORS Configuration
```typescript
// ÙÙŠ main.ts - Ø®Ø· 28
app.enableCors({ origin: originList, credentials: true });
```
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª CORS Ù‚Ø¯ ØªÙƒÙˆÙ† Ù…Ø±Ù†Ø© Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ù„Ø§Ø²Ù…
**Ø§Ù„Ø®Ø·ÙˆØ±Ø©**: Ù…ØªÙˆØ³Ø·Ø©

#### Ø¬. Database Credentials
```yaml
# ÙÙŠ docker-compose.yml
POSTGRES_PASSWORD: ${DB_PASSWORD:-admin123}
```
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¶Ø¹ÙŠÙØ©
**Ø§Ù„Ø®Ø·ÙˆØ±Ø©**: Ø¹Ø§Ù„ÙŠØ©

### 2. Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„ØªØ­Ø¬ÙŠÙ… ğŸŸ¡

#### Ø£. Database Connection Pooling
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¹Ø¯Ù… ØªÙƒÙˆÙŠÙ† connection pooling Ù…Ø­Ø³Ù†
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: Ù…Ø´Ø§ÙƒÙ„ Ø£Ø¯Ø§Ø¡ ØªØ­Øª Ø§Ù„Ø­Ù…Ù„ Ø§Ù„Ø¹Ø§Ù„ÙŠ

#### Ø¨. Redis Caching
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø­Ø¯ÙˆØ¯ Ù„Ù„Ù€ cache
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªÙƒØ±Ø±Ø©

#### Ø¬. File Upload Handling
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù†Ø¸Ø§Ù… upload Ù…ØªÙ‚Ø¯Ù…
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø©

### 3. Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„ØµÙŠØ§Ù†Ø© ğŸŸ¡

#### Ø£. Error Handling
```typescript
// ÙÙŠ tenant.interceptor.ts - Ø®Ø· 67
console.warn('[TenantInterceptor] Failed to SET app.tenant_id GUC:', err.message);
```
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø§Ø³ØªØ®Ø¯Ø§Ù… console.warn Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† structured logging

#### Ø¨. Environment Variables
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¹Ø¯Ù… ØªÙˆØ­ÙŠØ¯ Ø¥Ø¯Ø§Ø±Ø© Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ù†Ø´Ø± ÙˆØ§Ù„ØµÙŠØ§Ù†Ø©

#### Ø¬. API Versioning
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ versioning Ù„Ù„Ù€ API
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: Ù…Ø´Ø§ÙƒÙ„ ÙÙŠ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ©

### 4. Ù…Ø´Ø§ÙƒÙ„ Frontend ğŸŸ¡

#### Ø£. State Management
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ state management Ù…Ø±ÙƒØ²ÙŠ
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: ØªØ¹Ù‚ÙŠØ¯ ÙÙŠ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø§Ù„Ø©

#### Ø¨. API Integration
```typescript
// ÙÙŠ dashboard/page.tsx - Ø®Ø· 43
// TODO: Call API
// const data = await dashboardService.getStats();
```
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø§Ø³ØªØ®Ø¯Ø§Ù… mock data Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† API calls Ø­Ù‚ÙŠÙ‚ÙŠØ©

#### Ø¬. Error Boundaries
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ error boundaries
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø³ÙŠØ¦Ø© Ø¹Ù†Ø¯ Ø­Ø¯ÙˆØ« Ø£Ø®Ø·Ø§Ø¡

### 5. Ù…Ø´Ø§ÙƒÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ğŸŸ¡

#### Ø£. Migration Management
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ rollback strategy ÙˆØ§Ø¶Ø­
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: ØµØ¹ÙˆØ¨Ø© ÙÙŠ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª

#### Ø¨. Backup Strategy
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ backup strategy Ù…ØªÙ‚Ø¯Ù…Ø©
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: Ù…Ø®Ø§Ø·Ø± ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

#### Ø¬. Indexing Strategy
**Ø§Ù„Ù…Ø´ÙƒÙ„Ø©**: Ø¹Ø¯Ù… ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙÙ‡Ø§Ø±Ø³ Ù„Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©
**Ø§Ù„ØªØ£Ø«ÙŠØ±**: Ù…Ø´Ø§ÙƒÙ„ Ø£Ø¯Ø§Ø¡

---

## ğŸ“‹ Ø®Ø·Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© ÙˆØ§Ù„ØªØµØ­ÙŠØ­

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø­Ø±Ø¬Ø© (Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ©) ğŸ”´

#### 1.1 ØªØ­Ø³ÙŠÙ† JWT Security
```typescript
// Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØªØ·Ø¨ÙŠÙ‚Ù‡
const jwtConfig = {
  secret: process.env.JWT_SECRET || (() => {
    throw new Error('JWT_SECRET must be set in production');
  })(),
  signOptions: { 
    expiresIn: '1h',
    issuer: 'aquafarm-pro',
    audience: 'aquafarm-users'
  },
  verifyOptions: {
    issuer: 'aquafarm-pro',
    audience: 'aquafarm-users'
  }
};
```

#### 1.2 ØªØ­Ø³ÙŠÙ† Database Security
```yaml
# Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ØªØ·Ø¨ÙŠÙ‚Ù‡
POSTGRES_PASSWORD: ${DB_PASSWORD} # Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
```

#### 1.3 ØªØ·Ø¨ÙŠÙ‚ Security Headers
```typescript
app.use(helmet({
  contentSecurityPolicy: {
    directives: {
      defaultSrc: ["'self'"],
      styleSrc: ["'self'", "'unsafe-inline'"],
      scriptSrc: ["'self'"],
      imgSrc: ["'self'", "data:", "https:"],
    },
  },
  hsts: {
    maxAge: 31536000,
    includeSubDomains: true,
    preload: true
  }
}));
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ (Ø£ÙˆÙ„ÙˆÙŠØ© Ù…ØªÙˆØ³Ø·Ø©) ğŸŸ¡

#### 2.1 Database Connection Pooling
```typescript
const dbConfig = {
  type: 'postgres',
  // ... other config
  extra: {
    max: 20, // maximum number of connections
    min: 5,  // minimum number of connections
    acquire: 30000, // maximum time to wait for connection
    idle: 10000, // maximum time connection can be idle
  }
};
```

#### 2.2 Redis Caching Strategy
```typescript
// ØªØ·Ø¨ÙŠÙ‚ cache layer Ø´Ø§Ù…Ù„
@Injectable()
export class CacheService {
  async get<T>(key: string): Promise<T | null> {
    return this.redis.get(key);
  }
  
  async set(key: string, value: any, ttl: number = 3600): Promise<void> {
    await this.redis.setex(key, ttl, JSON.stringify(value));
  }
}
```

#### 2.3 File Upload Optimization
```typescript
// ØªØ·Ø¨ÙŠÙ‚ multer Ù…Ø¹ limits
const upload = multer({
  storage: multer.diskStorage({
    destination: './uploads',
    filename: (req, file, cb) => {
      cb(null, `${Date.now()}-${file.originalname}`);
    }
  }),
  limits: {
    fileSize: 10 * 1024 * 1024, // 10MB
    files: 5
  },
  fileFilter: (req, file, cb) => {
    const allowedTypes = /jpeg|jpg|png|pdf/;
    const extname = allowedTypes.test(path.extname(file.originalname).toLowerCase());
    if (extname) {
      return cb(null, true);
    }
    cb(new Error('Invalid file type'));
  }
});
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„ØµÙŠØ§Ù†Ø© (Ø£ÙˆÙ„ÙˆÙŠØ© Ù…ØªÙˆØ³Ø·Ø©) ğŸŸ¡

#### 3.1 Error Handling Enhancement
```typescript
@Injectable()
export class GlobalExceptionFilter implements ExceptionFilter {
  catch(exception: unknown, host: ArgumentsHost) {
    // ØªØ·Ø¨ÙŠÙ‚ structured logging
    this.logger.error({
      event: 'application.error',
      error: exception,
      stack: exception instanceof Error ? exception.stack : undefined,
      timestamp: new Date().toISOString(),
      correlationId: this.getCorrelationId(host)
    });
    
    // Ø¥Ø±Ø³Ø§Ù„ response Ù…Ù†Ø§Ø³Ø¨
    const response = host.switchToHttp().getResponse();
    response.status(500).json({
      error: 'Internal Server Error',
      message: 'An unexpected error occurred',
      timestamp: new Date().toISOString()
    });
  }
}
```

#### 3.2 Environment Configuration
```typescript
// Ø¥Ù†Ø´Ø§Ø¡ config service Ù…Ø±ÙƒØ²ÙŠ
@Injectable()
export class ConfigService {
  private readonly config: Record<string, any>;

  constructor() {
    this.config = {
      database: {
        host: this.getEnv('DB_HOST', 'localhost'),
        port: this.getEnv('DB_PORT', 5432),
        username: this.getEnv('DB_USERNAME'),
        password: this.getEnv('DB_PASSWORD'),
        database: this.getEnv('DB_NAME'),
      },
      jwt: {
        secret: this.getEnv('JWT_SECRET'),
        expiresIn: this.getEnv('JWT_EXPIRES_IN', '1h'),
      },
      redis: {
        host: this.getEnv('REDIS_HOST', 'localhost'),
        port: this.getEnv('REDIS_PORT', 6379),
        password: this.getEnv('REDIS_PASSWORD'),
      }
    };
  }

  private getEnv(key: string, defaultValue?: string): string {
    const value = process.env[key];
    if (!value && !defaultValue) {
      throw new Error(`Environment variable ${key} is required`);
    }
    return value || defaultValue;
  }
}
```

#### 3.3 API Versioning
```typescript
// ØªØ·Ø¨ÙŠÙ‚ API versioning
@Controller({
  path: 'api/v1',
  version: '1'
})
export class V1Controller {
  // controllers
}

@Controller({
  path: 'api/v2',
  version: '2'
})
export class V2Controller {
  // controllers
}
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: ØªØ­Ø³ÙŠÙ† Frontend (Ø£ÙˆÙ„ÙˆÙŠØ© Ù…ØªÙˆØ³Ø·Ø©) ğŸŸ¡

#### 4.1 State Management
```typescript
// ØªØ·Ø¨ÙŠÙ‚ Redux Toolkit
import { configureStore } from '@reduxjs/toolkit';
import { authSlice } from './slices/authSlice';
import { farmsSlice } from './slices/farmsSlice';

export const store = configureStore({
  reducer: {
    auth: authSlice.reducer,
    farms: farmsSlice.reducer,
  },
});

export type RootState = ReturnType<typeof store.getState>;
export type AppDispatch = typeof store.dispatch;
```

#### 4.2 API Integration
```typescript
// ØªØ·Ø¨ÙŠÙ‚ RTK Query
import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';

export const api = createApi({
  reducerPath: 'api',
  baseQuery: fetchBaseQuery({
    baseUrl: process.env.NEXT_PUBLIC_API_URL,
    prepareHeaders: (headers, { getState }) => {
      const token = (getState() as RootState).auth.token;
      if (token) {
        headers.set('authorization', `Bearer ${token}`);
      }
      return headers;
    },
  }),
  tagTypes: ['Farm', 'Pond', 'User'],
  endpoints: (builder) => ({
    getFarms: builder.query<Farm[], void>({
      query: () => 'farms',
      providesTags: ['Farm'],
    }),
    createFarm: builder.mutation<Farm, Partial<Farm>>({
      query: (farm) => ({
        url: 'farms',
        method: 'POST',
        body: farm,
      }),
      invalidatesTags: ['Farm'],
    }),
  }),
});
```

#### 4.3 Error Boundaries
```typescript
// ØªØ·Ø¨ÙŠÙ‚ Error Boundary
class ErrorBoundary extends React.Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { hasError: false, error: null };
  }

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('Error caught by boundary:', error, errorInfo);
    // Ø¥Ø±Ø³Ø§Ù„ error Ø¥Ù„Ù‰ monitoring service
  }

  render() {
    if (this.state.hasError) {
      return (
        <div className="error-boundary">
          <h2>Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹</h2>
          <p>Ù†Ø¹ØªØ°Ø± Ø¹Ù† Ø§Ù„Ø¥Ø²Ø¹Ø§Ø¬. ÙŠØ±Ø¬Ù‰ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©.</p>
          <button onClick={() => window.location.reload()}>
            Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
          </button>
        </div>
      );
    }

    return this.props.children;
  }
}
```

### Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: ØªØ­Ø³ÙŠÙ† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø£ÙˆÙ„ÙˆÙŠØ© Ù…ØªÙˆØ³Ø·Ø©) ğŸŸ¡

#### 5.1 Migration Strategy
```typescript
// ØªØ·Ø¨ÙŠÙ‚ migration rollback strategy
export class MigrationRunner {
  async runMigrations() {
    try {
      await this.dataSource.runMigrations();
      this.logger.info('Migrations completed successfully');
    } catch (error) {
      this.logger.error('Migration failed', error);
      await this.rollbackLastMigration();
      throw error;
    }
  }

  async rollbackLastMigration() {
    try {
      await this.dataSource.undoLastMigration();
      this.logger.info('Last migration rolled back successfully');
    } catch (error) {
      this.logger.error('Rollback failed', error);
      throw error;
    }
  }
}
```

#### 5.2 Backup Strategy
```bash
#!/bin/bash
# backup-strategy.sh

# Database backup
pg_dump $DATABASE_URL > backup_$(date +%Y%m%d_%H%M%S).sql

# Upload backup to S3
aws s3 cp backup_$(date +%Y%m%d_%H%M%S).sql s3://aquafarm-backups/

# Cleanup old backups (keep last 30 days)
find /backups -name "backup_*.sql" -mtime +30 -delete
```

#### 5.3 Database Indexing
```sql
-- ØªØ·Ø¨ÙŠÙ‚ ÙÙ‡Ø§Ø±Ø³ Ù…Ø­Ø³Ù†Ø©
CREATE INDEX CONCURRENTLY idx_farms_tenant_status 
ON farms(tenant_id, status) 
WHERE status = 'active';

CREATE INDEX CONCURRENTLY idx_ponds_tenant_farm_active 
ON ponds(tenant_id, farm_id) 
WHERE status = 'active';

CREATE INDEX CONCURRENTLY idx_water_quality_tenant_date 
ON water_quality_readings(tenant_id, reading_date DESC);
```

---

## ğŸš€ Ø®Ø·Ø© Ø§Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø²Ù…Ù†ÙŠØ©

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 1-2: Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø­Ø±Ø¬Ø©
- [ ] ØªØ­Ø³ÙŠÙ† JWT configuration
- [ ] ØªØ·Ø¨ÙŠÙ‚ security headers
- [ ] ØªØ­Ø³ÙŠÙ† database credentials
- [ ] Ù…Ø±Ø§Ø¬Ø¹Ø© CORS settings

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 3-4: ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
- [ ] ØªØ·Ø¨ÙŠÙ‚ connection pooling
- [ ] ØªØ·ÙˆÙŠØ± caching strategy
- [ ] ØªØ­Ø³ÙŠÙ† file upload handling
- [ ] ØªØ·Ø¨ÙŠÙ‚ database indexing

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 5-6: ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ·ÙˆÙŠØ±
- [ ] ØªØ·ÙˆÙŠØ± error handling
- [ ] ØªØ·Ø¨ÙŠÙ‚ environment configuration
- [ ] ØªØ·Ø¨ÙŠÙ‚ API versioning
- [ ] ØªØ­Ø³ÙŠÙ† logging

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 7-8: ØªØ­Ø³ÙŠÙ† Frontend
- [ ] ØªØ·Ø¨ÙŠÙ‚ state management
- [ ] ØªØ·ÙˆÙŠØ± API integration
- [ ] ØªØ·Ø¨ÙŠÙ‚ error boundaries
- [ ] ØªØ­Ø³ÙŠÙ† user experience

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 9-10: ØªØ­Ø³ÙŠÙ† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- [ ] ØªØ·Ø¨ÙŠÙ‚ migration strategy
- [ ] ØªØ·ÙˆÙŠØ± backup strategy
- [ ] ØªØ­Ø³ÙŠÙ† indexing
- [ ] ØªØ·Ø¨ÙŠÙ‚ monitoring

---

## ğŸ“Š Ù…Ø¤Ø´Ø±Ø§Øª Ø§Ù„Ù†Ø¬Ø§Ø­

### Ø§Ù„Ø£Ù…Ø§Ù†
- [ ] Ø¬Ù…ÙŠØ¹ security headers Ù…Ø·Ø¨Ù‚Ø©
- [ ] JWT configuration Ù…Ø­Ø³Ù†
- [ ] Ù„Ø§ ØªÙˆØ¬Ø¯ credentials Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
- [ ] CORS Ù…Ø­Ø¯Ø¯ Ø¨Ø´ÙƒÙ„ ØµØ§Ø±Ù…

### Ø§Ù„Ø£Ø¯Ø§Ø¡
- [ ] Ø§Ø³ØªØ¬Ø§Ø¨Ø© API < 200ms
- [ ] cache hit ratio > 80%
- [ ] database connection pool Ù…Ø­Ø³Ù†
- [ ] file upload Ù…Ø­Ø¯ÙˆØ¯ Ø¨Ù€ 10MB

### Ø§Ù„Ø¬ÙˆØ¯Ø©
- [ ] test coverage > 80%
- [ ] error handling Ø´Ø§Ù…Ù„
- [ ] logging structured
- [ ] documentation Ù…Ø­Ø¯Ø«

### Ø§Ù„ØµÙŠØ§Ù†Ø©
- [ ] environment configuration Ù…Ø±ÙƒØ²ÙŠ
- [ ] API versioning Ù…Ø·Ø¨Ù‚
- [ ] backup strategy ÙØ¹Ø§Ù„Ø©
- [ ] monitoring Ø´Ø§Ù…Ù„

---

## ğŸ”§ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„

### 1. Security Monitoring
```typescript
// ØªØ·Ø¨ÙŠÙ‚ security metrics
@Injectable()
export class SecurityMetrics {
  @Counter({
    name: 'security_failed_attempts_total',
    help: 'Total number of failed authentication attempts',
    labelNames: ['type', 'tenant']
  })
  failedAttempts: Counter<string>;

  @Histogram({
    name: 'security_request_duration_seconds',
    help: 'Duration of security-related requests',
    labelNames: ['operation', 'status']
  })
  requestDuration: Histogram<string>;
}
```

### 2. Performance Monitoring
```typescript
// ØªØ·Ø¨ÙŠÙ‚ performance metrics
@Injectable()
export class PerformanceMetrics {
  @Histogram({
    name: 'database_query_duration_seconds',
    help: 'Duration of database queries',
    labelNames: ['table', 'operation']
  })
  queryDuration: Histogram<string>;

  @Counter({
    name: 'cache_hits_total',
    help: 'Total number of cache hits',
    labelNames: ['cache_type']
  })
  cacheHits: Counter<string>;
}
```

### 3. Business Metrics
```typescript
// ØªØ·Ø¨ÙŠÙ‚ business metrics
@Injectable()
export class BusinessMetrics {
  @Counter({
    name: 'farms_created_total',
    help: 'Total number of farms created',
    labelNames: ['tenant']
  })
  farmsCreated: Counter<string>;

  @Counter({
    name: 'water_quality_readings_total',
    help: 'Total number of water quality readings',
    labelNames: ['tenant', 'parameter']
  })
  waterQualityReadings: Counter<string>;
}
```

---

## ğŸ“ Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

### Ø£ÙˆÙ„ÙˆÙŠØ© Ø¹Ø§Ù„ÙŠØ© (ÙŠØ¬Ø¨ Ø§Ù„ØªÙ†ÙÙŠØ° ÙÙˆØ±Ø§Ù‹)
1. **ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ù…Ø§Ù†**: ØªØ·Ø¨ÙŠÙ‚ Ø¬Ù…ÙŠØ¹ security measures Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø©
2. **ØªØ­Ø³ÙŠÙ† Database**: ØªØ·Ø¨ÙŠÙ‚ connection pooling Ùˆ indexing
3. **ØªØ­Ø³ÙŠÙ† Error Handling**: ØªØ·Ø¨ÙŠÙ‚ structured logging

### Ø£ÙˆÙ„ÙˆÙŠØ© Ù…ØªÙˆØ³Ø·Ø© (Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù‚Ø§Ø¯Ù…)
1. **ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡**: ØªØ·Ø¨ÙŠÙ‚ caching strategy
2. **ØªØ­Ø³ÙŠÙ† Frontend**: ØªØ·Ø¨ÙŠÙ‚ state management
3. **ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªØ·ÙˆÙŠØ±**: ØªØ·Ø¨ÙŠÙ‚ environment configuration

### Ø£ÙˆÙ„ÙˆÙŠØ© Ù…Ù†Ø®ÙØ¶Ø© (Ø®Ù„Ø§Ù„ Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ù‚Ø§Ø¯Ù…)
1. **ØªØ­Ø³ÙŠÙ† Monitoring**: ØªØ·Ø¨ÙŠÙ‚ business metrics
2. **ØªØ­Ø³ÙŠÙ† Documentation**: ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆØ«ÙŠÙ‚
3. **ØªØ­Ø³ÙŠÙ† Testing**: Ø²ÙŠØ§Ø¯Ø© test coverage

---

## ğŸ¯ Ø§Ù„Ø®Ù„Ø§ØµØ©

Ù…Ø´Ø±ÙˆØ¹ AquaFarm Pro ÙŠØ¸Ù‡Ø± Ø¨Ù†ÙŠØ© ØªÙ‚Ù†ÙŠØ© Ù…ØªÙ‚Ø¯Ù…Ø© ÙˆØªØ·Ø¨ÙŠÙ‚ Ø¬ÙŠØ¯ Ù„Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ«Ø©. ÙˆÙ…Ø¹ Ø°Ù„ÙƒØŒ Ù‡Ù†Ø§Ùƒ Ø¹Ø¯Ø© Ù…Ø¬Ø§Ù„Ø§Øª ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ ØªØ­Ø³ÙŠÙ†ØŒ Ø®Ø§ØµØ© ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡. 

**Ø§Ù„ØªÙˆØµÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©**: Ø§Ù„Ø¨Ø¯Ø¡ ÙÙˆØ±Ø§Ù‹ Ø¨ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1 (Ø§Ù„Ø£Ù…Ø§Ù† Ø§Ù„Ø­Ø±Ø¬Ø©) Ø«Ù… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ ØªØ¯Ø±ÙŠØ¬ÙŠØ§Ù‹ Ù„Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø£Ø®Ø±Ù‰ Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©.

**Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ù‚ØªØ±Ø­**: 10 Ø£Ø³Ø§Ø¨ÙŠØ¹ Ù„ØªÙ†ÙÙŠØ° Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©.

**Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ù…Ù‚Ø¯Ø±Ø©**: ØªØ·ÙˆÙŠØ± Ø¯Ø§Ø®Ù„ÙŠ Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø§Ø³ØªØ¹Ø§Ù†Ø© Ø¨Ù…Ø³ØªØ´Ø§Ø±ÙŠÙ† Ù…ØªØ®ØµØµÙŠÙ† ÙÙŠ Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡.

---

*ØªÙ… Ø¥Ø¹Ø¯Ø§Ø¯ Ù‡Ø°Ø§ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ ÙˆØªØ·Ø¨ÙŠÙ‚ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª ÙÙŠ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª.*

